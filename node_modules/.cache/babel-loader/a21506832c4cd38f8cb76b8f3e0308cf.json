{"ast":null,"code":"var _jsxFileName = \"/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/index.js\";\nimport React from 'react';\nimport Input from './Input';\nimport StockList from './StockList';\nimport ReactPie from './ReactPie';\nimport { useCanvas } from './drawChart'; // import Canvas from './canvasExample'\n\nimport Canvas from './canvasExample2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Investments extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      totalAmountInvested: 100,\n      ticker: 0,\n      quantity: 0,\n      price: 0,\n      avgCost: 0,\n      mktValue: 0,\n      bookCost: 0,\n      gainLoss: 0,\n      percentageOfPortfolio: 0,\n      stockList: [{\n        name: \"abc\",\n        quantity: 3,\n        price: 1.0,\n        avgCost: 32.5,\n        mktValue: 1,\n        bookCost: 100,\n        gainLoss: 0,\n        percentageOfPortfolio: 100\n      }, {\n        name: \"abc\",\n        quantity: 3,\n        price: 1.0,\n        avgCost: 32.5,\n        mktValue: 1,\n        bookCost: 100,\n        gainLoss: 0,\n        percentageOfPortfolio: 100\n      }, {\n        name: \"abc\",\n        quantity: 3,\n        price: 1.0,\n        avgCost: 32.5,\n        mktValue: 1,\n        bookCost: 100,\n        gainLoss: 0,\n        percentageOfPortfolio: 100\n      }]\n    };\n\n    this.handleInputStock = () => {\n      console.log(\"Handling input stock\");\n      console.log(this.state.bookCost);\n      console.log(this.state.totalAmountInvested);\n      let a = Number(this.state.quantity) * Number(this.state.price);\n      console.log(Number(this.totalAmountInvested) + Number(a));\n      const stock = {\n        name: this.state.name,\n        //no query selector..\n        quantity: this.state.quantity,\n        price: this.state.price,\n        avgCost: this.state.avgCost,\n        mktValue: this.state.mktValue,\n        bookCost: Number(this.state.quantity) * Number(this.state.price),\n        gainLoss: this.state.gainLoss,\n        percentageOfPortfolio: Number(this.state.bookCost) / (Number(this.state.bookCost) + Number(this.state.totalAmountInvested)) * 100,\n        totalAmountInvested: Number(this.totalAmountInvested) + Number(this.bookCost)\n      };\n      const currList = this.state.stockList;\n      console.log(currList);\n      currList.push(stock);\n      this.setState({\n        stockList: currList\n      });\n      console.log(Number(stock.totalAmountInvested));\n      console.log(currList);\n\n      for (let i = 0; i < this.state.stockList.length; i++) {\n        let allStocks = [...this.state.stockList]; // 2. Make a shallow copy of the item you want to mutate\n\n        let currentStock = { ...allStocks[i]\n        }; // 3. Replace the property you're intested in\n\n        console.log(Number(currentStock.bookCost));\n        console.log(Number(currentStock.totalAmountInvested));\n        currentStock.percentageOfPortfolio = Number(currentStock.bookCost) / Number(currentStock.totalAmountInvested); // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n\n        allStocks[i] = currentStock; // 5. Set the state to our new copy\n\n        this.setState({\n          allStocks\n        }); // console.log(this.state.stockList[i].percentageOfPortfolio)\n        // this.state.stockList[i].percentageOfPortfolio = Number(this.state.stockList[i].bookCost)/Number(this.state.stockList[i].totalAmountInvested)\n        // console.log(this.state.stockList[i].percentageOfPortfolio)\n      }\n    };\n\n    this.handleInputChange = event => {\n      //this in this function refers to the app\n      console.log(\"Handle input change\");\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      this.setState({\n        //this is bound to App class \n        [name]: value //now the name of the input\n        //entire state is updated\n\n      });\n    };\n\n    this.deleteStock = stock => {\n      //make var because not mutating this \n      console.log(\"Delete\");\n      const filteredStock = this.state.stockList.filter(s => {\n        return s !== stock; //the one's we don't want to remove\n      });\n      this.setState({\n        stockList: filteredStock\n      });\n    };\n\n    this.editStock = (stock, valueToEdit) => {\n      console.log(\"Editing stock\");\n      console.log(stock);\n      console.log(\"Value\");\n      console.log(valueToEdit);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        stockList: this.state.stockList,\n        handleInputStock: this.handleInputStock,\n        handleInputChange: this.handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(StockList, {\n        stockList: this.state.stockList,\n        deleteStock: this.deleteStock,\n        editStock: this.editStock\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n        stockList: this.state.stockList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Investments;\n/*  */","map":{"version":3,"sources":["/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/index.js"],"names":["React","Input","StockList","ReactPie","useCanvas","Canvas","Investments","Component","state","totalAmountInvested","ticker","quantity","price","avgCost","mktValue","bookCost","gainLoss","percentageOfPortfolio","stockList","name","handleInputStock","console","log","a","Number","stock","currList","push","setState","i","length","allStocks","currentStock","handleInputChange","event","target","value","deleteStock","filteredStock","filter","s","editStock","valueToEdit","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Input from './Input'\nimport StockList from './StockList'\nimport ReactPie from './ReactPie'\nimport {useCanvas} from './drawChart'\n// import Canvas from './canvasExample'\nimport Canvas from './canvasExample2'\n\n\nclass Investments extends React.Component {\n\n  state = {\n    totalAmountInvested: 100,\n    ticker: 0,\n    quantity: 0,\n    price: 0,\n    avgCost: 0,\n    mktValue: 0,\n    bookCost: 0,\n    gainLoss: 0,\n    percentageOfPortfolio:0,\n    stockList: [{name: \"abc\", quantity: 3, price: 1.0, avgCost: 32.5, mktValue: 1, bookCost: 100, gainLoss:0, percentageOfPortfolio:100 },\n    {name: \"abc\", quantity: 3, price: 1.0, avgCost: 32.5, mktValue: 1, bookCost: 100, gainLoss:0, percentageOfPortfolio:100 },\n    {name: \"abc\", quantity: 3, price: 1.0, avgCost: 32.5, mktValue: 1, bookCost: 100, gainLoss:0, percentageOfPortfolio:100 }],\n  }\n\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     canvasRef: useCanvas()\n  //   };\n  // }\n\n  handleInputStock = () => {\n    console.log(\"Handling input stock\");\n    console.log(this.state.bookCost)\n    console.log(this.state.totalAmountInvested)\n    let a =Number(this.state.quantity)* Number(this.state.price)\n    console.log(Number(this.totalAmountInvested)+Number(a))\n    const stock = {\n      name:this.state.name,//no query selector..\n      quantity: this.state.quantity,\n      price: this.state.price,\n      avgCost: this.state.avgCost,\n      mktValue: this.state.mktValue,\n      bookCost: Number(this.state.quantity)* Number(this.state.price),\n      gainLoss: this.state.gainLoss,\n      percentageOfPortfolio:(Number(this.state.bookCost)/(Number(this.state.bookCost)+Number(this.state.totalAmountInvested)))*100,\n      totalAmountInvested: Number(this.totalAmountInvested)+Number(this.bookCost)\n    }\n    const currList = this.state.stockList\n    console.log(currList)\n    currList.push(stock)\n    this.setState({\n      stockList:currList\n    })\n\n    console.log(Number(stock.totalAmountInvested))\n\n\n    console.log(currList)\n    for(let i = 0; i < this.state.stockList.length; i++){\n      let allStocks = [...this.state.stockList];\n      // 2. Make a shallow copy of the item you want to mutate\n      let currentStock = {...allStocks[i]};\n      // 3. Replace the property you're intested in\n      console.log(Number(currentStock.bookCost))\n      console.log(Number(currentStock.totalAmountInvested))\n      currentStock.percentageOfPortfolio = Number(currentStock.bookCost)/Number(currentStock.totalAmountInvested);\n      // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n      allStocks[i] = currentStock;\n      // 5. Set the state to our new copy\n      this.setState({allStocks});\n\n\n      // console.log(this.state.stockList[i].percentageOfPortfolio)\n      // this.state.stockList[i].percentageOfPortfolio = Number(this.state.stockList[i].bookCost)/Number(this.state.stockList[i].totalAmountInvested)\n      // console.log(this.state.stockList[i].percentageOfPortfolio)\n    }\n\n  }\n\n  handleInputChange = (event) =>{\n    //this in this function refers to the app\n    console.log(\"Handle input change\")\n    const target = event.target\n    const value = target.value\n    const name = target.name\n    this.setState({\n      //this is bound to App class \n      [name]: value //now the name of the input\n      \n      //entire state is updated\n    })\n\n  }\n\n\n    //student is the object to reference\n  deleteStock = (stock) => {\n    //make var because not mutating this \n    console.log(\"Delete\")\n    const filteredStock = this.state.stockList.filter((s) => {\n      return s !== stock  //the one's we don't want to remove\n    })\n\n    this.setState({\n      stockList: filteredStock\n    })\n  }\n\n  editStock = (stock, valueToEdit) => {\n\n    console.log(\"Editing stock\")\n    console.log(stock)\n    console.log(\"Value\")\n    console.log(valueToEdit)\n    \n  }\n\n  render() {\n    return (\n\n      <div>\n \n      <Input stockList={this.state.stockList} \n      handleInputStock = {this.handleInputStock} \n      handleInputChange = {this.handleInputChange}\n      />\n      <StockList stockList={this.state.stockList} deleteStock = {this.deleteStock} editStock = {this.editStock}/>\n      \n      {/* <canvas data = {this.state.stockList} ref = {canvasRef}/> */}\n      \n      \n      {/* <Canvas stockList = {this.state.stockList}/> */}\n      <Canvas stockList = {this.state.stockList}/>\n      </div>\n      \n\n    )\n\n  }\n\n}\n\nexport default Investments;\n\n/*  */"]},"metadata":{},"sourceType":"module"}