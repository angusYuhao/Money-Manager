{"ast":null,"code":"var _jsxFileName = \"/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Spendings/index.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router';\nimport TableComp from '../Table';\nimport Button from '@material-ui/core/Button';\nimport './spendings.css';\nimport pieChart from './pieChart.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Spendings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sumAccountBalance = () => {\n      this.state.accountBalance = this.state.transactions_data.reduce((total, current) => {\n        let sum = parseFloat(total) + parseFloat(current[\"Amount\"]);\n        sum = sum.toFixed(2);\n        return sum;\n      }, 0);\n      this.setState({\n        accountBalance: this.state.accountBalance\n      });\n    };\n\n    this.addTransaction = newTransaction => {\n      this.state.transactions_data.unshift(newTransaction);\n      this.setState({\n        transactions_data: this.state.transactions_data\n      });\n    };\n\n    this.editTransaction = (oldTransaction, newTransaction) => {\n      const index = this.state.transactions_data.findIndex(t => t === oldTransaction);\n      this.state.transactions_data[index] = newTransaction;\n      this.setState({\n        transactions_data: this.state.transactions_data\n      });\n    };\n\n    this.deleteTransaction = transaction => {\n      const keepTransactions = this.state.transactions_data.filter(t => t !== transaction);\n      this.setState({\n        transactions_data: keepTransactions\n      });\n    };\n\n    this.addCategory = newCategory => {\n      if (!this.state.transactions_categories.includes(newCategory)) this.state.transactions_categories.push(newCategory);\n      this.setState({\n        transactions_categories: this.state.transactions_categories\n      });\n    };\n\n    this.deleteCategory = category => {\n      const keepCategories = this.state.transactions_categories.filter(c => c !== category);\n      this.setState({\n        transactions_categories: keepCategories\n      });\n    };\n\n    this.state = {\n      // the headings to appear in the header bar \n      transactions_headings: [\"Date\", \"Amount\", \"Description\", \"Category\"],\n      // the options for each transaction for the table to know which kind of cell to display\n      transactions_options: [\"Date\", \"Number\", \"Any\", \"Select\"],\n      // a list of the categories that the transaction falls under \n      transactions_categories: [\"Food\", \"Personal\", \"Transportation\", \"Home\"],\n      // the data to appear in each rows of the table \n      transactions_data: [{\n        \"Date\": \"02/01/2021\",\n        \"Amount\": \"35.23\",\n        \"Description\": \"McDonalds\",\n        \"Category\": \"Food\"\n      }, {\n        \"Date\": \"02/03/2021\",\n        \"Amount\": \"26.38\",\n        \"Description\": \"Starbucks\",\n        \"Category\": \"Food\"\n      }, {\n        \"Date\": \"02/05/2021\",\n        \"Amount\": \"136.83\",\n        \"Description\": \"Runners\",\n        \"Category\": \"Personal\"\n      }, {\n        \"Date\": \"02/07/2021\",\n        \"Amount\": \"13.28\",\n        \"Description\": \"Movies\",\n        \"Category\": \"Personal\"\n      }, {\n        \"Date\": \"02/09/2021\",\n        \"Amount\": \"52.85\",\n        \"Description\": \"Presto Card\",\n        \"Category\": \"Transportation\"\n      }, {\n        \"Date\": \"02/12/2021\",\n        \"Amount\": \"83.16\",\n        \"Description\": \"Internet + Utilities\",\n        \"Category\": \"Home\"\n      }, {\n        \"Date\": \"02/15/2021\",\n        \"Amount\": \"267.33\",\n        \"Description\": \"Gift for Joe\",\n        \"Category\": \"Personal\"\n      }, {\n        \"Date\": \"02/18/2021\",\n        \"Amount\": \"8.37\",\n        \"Description\": \"Bubble Tea\",\n        \"Category\": \"Food\"\n      }],\n      // the net balance on the account \n      accountBalance: 0,\n      sortBy: \"Date\"\n    };\n    this.sumAccountBalance();\n  } // array form for data \n  // [\"02/01/2021\", \"35.23\", \"McDonalds\", \"Food\"],\n  // [\"02/03/2021\", \"26.38\", \"Starbucks\", \"Food\"],\n  // [\"02/05/2021\", \"136.83\", \"Runners\", \"Personal\"],\n  // [\"02/07/2021\", \"13.28\", \"Movies\", \"Personal\"],\n  // [\"02/09/2021\", \"52.85\", \"Presto Card\", \"Transportation\"],\n  // [\"02/12/2021\", \"83.16\", \"Internet + Utilities\", \"Home\"],\n  // [\"02/15/2021\", \"267.33\", \"Gift for Joe\", \"Personal\"],\n  // [\"02/18/2021\", \"8.37\", \"Bubble Tea\", \"Food\"]\n  // just in case if we need to switch structure to obj \n  // {\"Date\": \"02/01/2021\", \"Amount\": \"35.23\", \"Description\": \"McDonalds\", \"Category\": \"Food\"},\n  // {\"Date\": \"02/03/2021\", \"Amount\": \"26.38\", \"Description\": \"Starbucks\", \"Category\": \"Food\"},\n  // {\"Date\": \"02/05/2021\", \"Amount\": \"136.83\", \"Description\": \"Runners\", \"Category\": \"Personal\"},\n  // {\"Date\": \"02/07/2021\", \"Amount\": \"13.28\", \"Description\": \"Movies\", \"Category\": \"Personal\"},\n  // {\"Date\": \"02/09/2021\", \"Amount\": \"52.85\", \"Description\": \"Presto Card\", \"Category\": \"Transportation\"},\n  // {\"Date\": \"02/12/2021\", \"Amount\": \"83.16\", \"Description\": \"Internet + Utilities\", \"Category\": \"Home\"},\n  // {\"Date\": \"02/15/2021\", \"Amount\": \"267.33\", \"Description\": \"Gift for Joe\", \"Category\": \"Personal\"},\n  // {\"Date\": \"02/18/2021\", \"Amount\": \"8.37\", \"Description\": \"Bubble Tea\", \"Category\": \"Food\"},\n\n\n  componentDidUpdate(undefined, prevState) {\n    // only update the account balance if any transaction has been modified\n    if (prevState.transactions_data != this.state.transactions_data) this.sumAccountBalance();\n  }\n\n  changeSort(sortBy) {\n    this.state.sortBy = sortBy;\n    this.setState({\n      sortBy: this.state.sortBy\n    });\n  }\n\n  render() {\n    const {\n      loggedIn\n    } = this.props;\n    return loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: pieChart,\n          alt: \"pieChart\",\n          style: {\n            marginRight: \"auto\",\n            marginLeft: \"auto\",\n            width: \"50%\",\n            display: \"block\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"AccountBalance\",\n          children: [\"Total Amount: \", this.state.accountBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Table\",\n        children: [/*#__PURE__*/_jsxDEV(TableComp // use the TableContainer class to style the table itself \n        , {\n          classes: {\n            TableContainer: 'TableContainer'\n          },\n          headings: this.state.transactions_headings,\n          data: this.state.transactions_data,\n          options: this.state.transactions_options,\n          categories: this.state.transactions_categories,\n          addRow: this.addTransaction,\n          editRow: this.editTransaction,\n          removeRow: this.deleteTransaction,\n          addCategory: this.addCategory,\n          removeCategory: this.deleteCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SortButtons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: this.state.sortBy == \"Date\" ? \"contained\" : \"outlined\",\n            onClick: () => this.changeSort(\"Date\"),\n            children: \"Sort By Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: this.state.sortBy == \"Amount\" ? \"contained\" : \"outlined\",\n            onClick: () => this.changeSort(\"Amount\"),\n            children: \"Sort By Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: this.state.sortBy == \"Category\" ? \"contained\" : \"outlined\",\n            onClick: () => this.changeSort(\"Category\"),\n            children: \"Sort By Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default Spendings;","map":{"version":3,"sources":["/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Spendings/index.js"],"names":["React","Redirect","TableComp","Button","pieChart","Spendings","Component","constructor","props","sumAccountBalance","state","accountBalance","transactions_data","reduce","total","current","sum","parseFloat","toFixed","setState","addTransaction","newTransaction","unshift","editTransaction","oldTransaction","index","findIndex","t","deleteTransaction","transaction","keepTransactions","filter","addCategory","newCategory","transactions_categories","includes","push","deleteCategory","category","keepCategories","c","transactions_headings","transactions_options","sortBy","componentDidUpdate","undefined","prevState","changeSort","render","loggedIn","marginRight","marginLeft","width","display","TableContainer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\nimport TableComp from '../Table'\n\nimport Button from '@material-ui/core/Button';\n\nimport './spendings.css'\nimport pieChart from './pieChart.png'\n\nclass Spendings extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // the headings to appear in the header bar \n      transactions_headings: [\"Date\", \"Amount\", \"Description\", \"Category\"],\n      // the options for each transaction for the table to know which kind of cell to display\n      transactions_options: [\"Date\", \"Number\", \"Any\", \"Select\"],\n      // a list of the categories that the transaction falls under \n      transactions_categories: [\"Food\", \"Personal\", \"Transportation\", \"Home\"],\n      // the data to appear in each rows of the table \n      transactions_data: [\n        { \"Date\": \"02/01/2021\", \"Amount\": \"35.23\", \"Description\": \"McDonalds\", \"Category\": \"Food\" },\n        { \"Date\": \"02/03/2021\", \"Amount\": \"26.38\", \"Description\": \"Starbucks\", \"Category\": \"Food\" },\n        { \"Date\": \"02/05/2021\", \"Amount\": \"136.83\", \"Description\": \"Runners\", \"Category\": \"Personal\" },\n        { \"Date\": \"02/07/2021\", \"Amount\": \"13.28\", \"Description\": \"Movies\", \"Category\": \"Personal\" },\n        { \"Date\": \"02/09/2021\", \"Amount\": \"52.85\", \"Description\": \"Presto Card\", \"Category\": \"Transportation\" },\n        { \"Date\": \"02/12/2021\", \"Amount\": \"83.16\", \"Description\": \"Internet + Utilities\", \"Category\": \"Home\" },\n        { \"Date\": \"02/15/2021\", \"Amount\": \"267.33\", \"Description\": \"Gift for Joe\", \"Category\": \"Personal\" },\n        { \"Date\": \"02/18/2021\", \"Amount\": \"8.37\", \"Description\": \"Bubble Tea\", \"Category\": \"Food\" },\n      ],\n      // the net balance on the account \n      accountBalance: 0,\n      sortBy: \"Date\"\n    }\n\n    this.sumAccountBalance()\n\n  }\n\n  // array form for data \n  // [\"02/01/2021\", \"35.23\", \"McDonalds\", \"Food\"],\n  // [\"02/03/2021\", \"26.38\", \"Starbucks\", \"Food\"],\n  // [\"02/05/2021\", \"136.83\", \"Runners\", \"Personal\"],\n  // [\"02/07/2021\", \"13.28\", \"Movies\", \"Personal\"],\n  // [\"02/09/2021\", \"52.85\", \"Presto Card\", \"Transportation\"],\n  // [\"02/12/2021\", \"83.16\", \"Internet + Utilities\", \"Home\"],\n  // [\"02/15/2021\", \"267.33\", \"Gift for Joe\", \"Personal\"],\n  // [\"02/18/2021\", \"8.37\", \"Bubble Tea\", \"Food\"]\n\n  // just in case if we need to switch structure to obj \n  // {\"Date\": \"02/01/2021\", \"Amount\": \"35.23\", \"Description\": \"McDonalds\", \"Category\": \"Food\"},\n  // {\"Date\": \"02/03/2021\", \"Amount\": \"26.38\", \"Description\": \"Starbucks\", \"Category\": \"Food\"},\n  // {\"Date\": \"02/05/2021\", \"Amount\": \"136.83\", \"Description\": \"Runners\", \"Category\": \"Personal\"},\n  // {\"Date\": \"02/07/2021\", \"Amount\": \"13.28\", \"Description\": \"Movies\", \"Category\": \"Personal\"},\n  // {\"Date\": \"02/09/2021\", \"Amount\": \"52.85\", \"Description\": \"Presto Card\", \"Category\": \"Transportation\"},\n  // {\"Date\": \"02/12/2021\", \"Amount\": \"83.16\", \"Description\": \"Internet + Utilities\", \"Category\": \"Home\"},\n  // {\"Date\": \"02/15/2021\", \"Amount\": \"267.33\", \"Description\": \"Gift for Joe\", \"Category\": \"Personal\"},\n  // {\"Date\": \"02/18/2021\", \"Amount\": \"8.37\", \"Description\": \"Bubble Tea\", \"Category\": \"Food\"},\n\n  componentDidUpdate(undefined, prevState) {\n    // only update the account balance if any transaction has been modified\n    if (prevState.transactions_data != this.state.transactions_data) this.sumAccountBalance()\n  }\n\n  sumAccountBalance = () => {\n    this.state.accountBalance = this.state.transactions_data.reduce((total, current) => {\n      let sum = parseFloat(total) + parseFloat(current[\"Amount\"])\n      sum = sum.toFixed(2)\n      return sum\n    }, 0)\n    this.setState({ accountBalance: this.state.accountBalance })\n  }\n\n  // add newTransaction to the beginning of the transactions_data array \n  addTransaction = (newTransaction) => {\n    this.state.transactions_data.unshift(newTransaction)\n    this.setState({ transactions_data: this.state.transactions_data })\n  }\n\n  // finds the index of the oldTransaction data and replace it with the newTransaction data\n  editTransaction = (oldTransaction, newTransaction) => {\n    const index = this.state.transactions_data.findIndex(t => t === oldTransaction)\n    this.state.transactions_data[index] = newTransaction\n    this.setState({ transactions_data: this.state.transactions_data })\n  }\n\n  // deletes transaction from transactions_data array \n  deleteTransaction = (transaction) => {\n    const keepTransactions = this.state.transactions_data.filter(t => t !== transaction)\n    this.setState({ transactions_data: keepTransactions })\n  }\n\n  // adds a user defined category \n  addCategory = (newCategory) => {\n    if (!this.state.transactions_categories.includes(newCategory))\n      this.state.transactions_categories.push(newCategory)\n    this.setState({ transactions_categories: this.state.transactions_categories })\n  }\n\n  // deletes a user defined category (the default cannot be deleted)\n  deleteCategory = (category) => {\n    const keepCategories = this.state.transactions_categories.filter(c => c !== category)\n    this.setState({ transactions_categories: keepCategories })\n  }\n\n  changeSort(sortBy) {\n    this.state.sortBy = sortBy\n    this.setState({ sortBy: this.state.sortBy })\n  }\n\n  render() {\n\n    const { loggedIn } = this.props\n\n    return (\n\n      loggedIn ?\n\n        <div>\n\n          <br></br>\n          <br></br>\n          <br></br>\n\n          <div className=\"Chart\">\n\n            <img src={pieChart} alt=\"pieChart\" style={{ marginRight: \"auto\", marginLeft: \"auto\", width: \"50%\", display: \"block\" }}></img>\n\n            <div className=\"AccountBalance\">\n              Total Amount: {this.state.accountBalance}\n            </div>\n\n          </div>\n\n          <div className=\"Table\">\n\n            <TableComp\n              // use the TableContainer class to style the table itself \n              classes={{ TableContainer: 'TableContainer' }}\n              headings={this.state.transactions_headings}\n              data={this.state.transactions_data}\n              options={this.state.transactions_options}\n              categories={this.state.transactions_categories}\n              addRow={this.addTransaction}\n              editRow={this.editTransaction}\n              removeRow={this.deleteTransaction}\n              addCategory={this.addCategory}\n              removeCategory={this.deleteCategory}\n            />\n\n\n            <div className=\"SortButtons\">\n\n              <Button\n                variant={this.state.sortBy == \"Date\" ? \"contained\" : \"outlined\"}\n                onClick={() => this.changeSort(\"Date\")}>\n                Sort By Date\n              </Button>\n              <Button\n                variant={this.state.sortBy == \"Amount\" ? \"contained\" : \"outlined\"}\n                onClick={() => this.changeSort(\"Amount\")}>\n                Sort By Amount\n              </ Button>\n              <Button\n                variant={this.state.sortBy == \"Category\" ? \"contained\" : \"outlined\"}\n                onClick={() => this.changeSort(\"Category\")}>\n                Sort By Category\n              </Button>\n\n            </div>\n\n          </div>\n\n        </div>\n        : <Redirect to=\"/login\" />\n\n    )\n\n  }\n\n}\n\nexport default Spendings;"]},"metadata":{},"sourceType":"module"}