{"ast":null,"code":"var _jsxFileName = \"/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Spendings/index.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router';\nimport { withStyles } from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { deepPurple } from '@material-ui/core/colors'; // imports for sorting buttons \n\nimport Button from '@material-ui/core/Button';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper'; // imports for drawer\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from \"@material-ui/core/Divider\";\nimport AddIcon from '@material-ui/icons/Add';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\nimport './spendings.css';\nimport { data } from './data';\nimport TableComp from '../Table';\nimport PieChart from '../Investments/PieChart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useStyles = () => ({\n  drawer_paper: {\n    position: \"relative\",\n    height: \"100%\"\n  },\n  menu_list: {\n    width: \"15vw\",\n    marginTop: \"5%\",\n    marginLeft: \"1vw\",\n    marginRight: \"1vw\"\n  },\n  menu_item: {\n    width: \"15vw\",\n    marginTop: \"5%\"\n  },\n  formControl_root: {\n    outline: \"none\",\n    minWidth: \"15vw\"\n  },\n  listItem_buttonSelected: {\n    backgroundColor: deepPurple[100]\n  },\n  listItem_button: {\n    backgroundColor: \"\"\n  }\n});\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: deepPurple[800]\n    },\n    secondary: {\n      main: deepPurple[100]\n    }\n  },\n  typography: {\n    fontFamily: ['Poppins', 'sans-serif'].join(',')\n  }\n});\n\nclass Spendings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.numbersToMonth = {\n      \"1\": \"Jan\",\n      \"2\": \"Feb\",\n      \"3\": \"Mar\",\n      \"4\": \"Apr\",\n      \"5\": \"May\",\n      \"6\": \"Jun\",\n      \"7\": \"Jul\",\n      \"8\": \"Aug\",\n      \"9\": \"Sep\",\n      \"10\": \"Oct\",\n      \"11\": \"Nov\",\n      \"12\": \"Dec\",\n      \"Jan\": \"1\",\n      \"Feb\": \"2\",\n      \"Mar\": \"3\",\n      \"Apr\": \"4\",\n      \"May\": \"5\",\n      \"Jun\": \"6\",\n      \"Jul\": \"7\",\n      \"Aug\": \"8\",\n      \"Sep\": \"9\",\n      \"Oct\": \"10\",\n      \"Nov\": \"11\",\n      \"Dec\": \"12\"\n    };\n\n    this.sumAccountBalance = () => {\n      this.state.accountBalance = this.state.transactions_data.reduce((total, current) => {\n        let sum = parseFloat(total) + parseFloat(current[\"Amount\"]);\n        sum = sum.toFixed(2);\n        return sum;\n      }, 0);\n      this.setState({\n        accountBalance: this.state.accountBalance\n      });\n    };\n\n    this.sumCategoriesAmount = () => {\n      this.state.sumForCategories = [];\n      this.state.transactions_data.map(transaction => {\n        const category = transaction[\"Category\"];\n        let index = this.state.sumForCategories.findIndex(x => x.Name == category);\n\n        if (index == -1) {\n          this.state.sumForCategories.push({\n            \"Name\": category,\n            \"Book Cost\": 0\n          });\n          index = this.state.sumForCategories.length - 1;\n        }\n\n        this.state.sumForCategories[index][\"Book Cost\"] += parseFloat(transaction[\"Amount\"]);\n      });\n      this.setState({\n        sumForCategories: this.state.sumForCategories\n      });\n    };\n\n    this.sortObj = (a, b) => {\n      switch (this.state.sortBy) {\n        case \"Date\":\n          if (!this.state.sortDes[\"Date\"]) {\n            if (a[\"Date\"] < b[\"Date\"]) return -1;else return 1;\n          } else {\n            if (a[\"Date\"] > b[\"Date\"]) return -1;else return 1;\n          }\n\n        case \"Amount\":\n          if (!this.state.sortDes[\"Amount\"]) {\n            if (parseFloat(a[\"Amount\"]) < parseFloat(b[\"Amount\"])) return -1;else return 1;\n          } else {\n            if (parseFloat(a[\"Amount\"]) > parseFloat(b[\"Amount\"])) return -1;else return 1;\n          }\n\n        case \"Category\":\n          if (!this.state.sortDes[\"Category\"]) {\n            if (a[\"Category\"] < b[\"Category\"]) return -1;else return 1;\n          } else {\n            if (a[\"Category\"] > b[\"Category\"]) return -1;else return 1;\n          }\n\n        case \"Default\":\n          return;\n      }\n    };\n\n    this.sortTransactions = () => {\n      this.state.transactions_data.sort(this.sortObj);\n      this.setState({\n        transactions_data: this.state.transactions_data\n      });\n    };\n\n    this.addTransaction = newTransaction => {\n      this.state.transactions_data.unshift(newTransaction);\n      this.setState({\n        transactions_data: this.state.transactions_data\n      });\n      this.sumAccountBalance();\n      this.sumCategoriesAmount();\n    };\n\n    this.editTransaction = (oldTransaction, newTransaction) => {\n      const index = this.state.transactions_data.findIndex(t => t === oldTransaction);\n      this.state.transactions_data[index] = newTransaction;\n      this.setState({\n        transactions_data: this.state.transactions_data\n      });\n      this.sumAccountBalance();\n      this.sumCategoriesAmount();\n    };\n\n    this.deleteTransaction = transaction => {\n      const keepTransactions = this.state.transactions_data.filter(t => t !== transaction);\n      this.setState({\n        transactions_data: keepTransactions\n      });\n    };\n\n    this.addCategory = newCategory => {\n      if (!this.state.transactions_categories.includes(newCategory)) this.state.transactions_categories.push(newCategory);\n      this.setState({\n        transactions_categories: this.state.transactions_categories\n      });\n    };\n\n    this.deleteCategory = category => {\n      const keepCategories = this.state.transactions_categories.filter(c => c !== category);\n      this.setState({\n        transactions_categories: keepCategories\n      });\n    };\n\n    this.c = () => {\n      this.state.openDrawer = !this.state.openDrawer;\n      this.setState({\n        openDrawer: this.state.openDrawer\n      });\n    };\n\n    this.hideAddNewMonth = () => {\n      this.setState({\n        menuPosition: null\n      });\n    };\n\n    this.displayAddNewMonth = e => {\n      this.setState({\n        menuPosition: e.currentTarget\n      });\n    };\n\n    this.selectFieldOnChangeHandler = e => {\n      this.state.newSpendings.month = e.target.value;\n      this.setState({\n        newSpendings: this.state.newSpendings\n      });\n    };\n\n    this.updateSpendingsYear = e => {\n      if (isNaN(e.target.value)) return;\n      this.state.newSpendings.year = e.target.value;\n      this.setState({\n        newSpendings: this.state.newSpendings\n      });\n    };\n\n    this.updateSpendingsProjected = e => {\n      if (isNaN(e.target.value)) return;\n      this.state.newSpendings.projectedSpendings = e.target.value;\n      this.setState({\n        newSpendings: this.state.newSpendings\n      });\n    };\n\n    this.state = {\n      // the headings to appear in the header bar \n      transactions_headings: [\"Date\", \"Amount\", \"Description\", \"Category\"],\n      // the options for each transaction for the table to know which kind of cell to display\n      transactions_options: [\"Date\", \"Dollar\", \"Any\", \"Select\"],\n      // a list of the categories that the transaction falls under \n      transactions_categories: [\"Food\", \"Personal\", \"Transportation\", \"Home\"],\n      // the data to appear in each rows of the table, the transactions for a specific year and month\n      transactions_data: [],\n      // the entire data for all years and all months\n      entire_data: data,\n      // the net balance on the account \n      accountBalance: 0,\n      // current sorting by string, default is sort by date\n      sortBy: \"Date\",\n      // sorting in an ascending/descending order\n      sortDes: {\n        \"Date\": false,\n        \"Amount\": false,\n        \"Category\": false\n      },\n      // true for displaying the drawer (sidebar for months), false to hide\n      openDrawer: false,\n      // the array used for displaying the pie chart, will contain array of objects, key is the category, value is the total spending of that category\n      sumForCategories: [],\n      // the position for the menu used to create a new spendings page\n      menuPosition: null,\n      // the month selected for the menu\n      newSpendings: {\n        month: \"\",\n        year: \"\",\n        projectedSpendings: \"\"\n      },\n      // the projected balance on the selected year and month \n      projectedSpendings: 0,\n      currentlySelectedMonth: {}\n    }; // initialize transactions_data\n\n    this.sortEntireData();\n    const year = this.getYearFromIndex(\"0\");\n    const month = this.getMonthFromIndex(\"0\", \"0\", year);\n    this.state.transactions_data = this.state.entire_data[\"0\"][year][\"0\"][month][\"Transactions\"];\n    this.setState({\n      transactions_data: this.state.transactions_data\n    });\n    this.state.projectedSpendings = this.state.entire_data[\"0\"][year][\"0\"][month][\"Projected Spendings\"];\n    this.setState({\n      projectedSpendings: this.state.projectedSpendings\n    });\n    this.sumCategoriesAmount();\n    this.sumAccountBalance();\n  } // conversion from numbers representation to letter representation of months \n\n\n  componentDidUpdate(undefined, prevState) {\n    // only update the account balance if any transaction has been modified\n    if (prevState.transactions_data != this.state.transactions_data) {\n      this.sumAccountBalance();\n      this.sumCategoriesAmount();\n    }\n  }\n\n  changeSort(sortBy) {\n    this.state.sortBy = sortBy;\n    this.setState({\n      sortBy: this.state.sortBy\n    });\n    this.state.sortDes[sortBy] = !this.state.sortDes[sortBy];\n    this.setState({\n      sortDes: this.state.sortDes\n    });\n    this.sortTransactions();\n  }\n\n  createNewSpendings() {\n    if (this.state.newSpendings.year == \"\" || this.state.newSpendings.month == \"\" || this.state.newSpendings.projectedSpendings == \"\") return;\n    const year = this.state.newSpendings.year;\n    const month = this.numbersToMonth[this.state.newSpendings.month.substr(0, 3)];\n    const projectedSpendings = this.state.newSpendings.projectedSpendings;\n    let yearIndex = this.getIndexFromYear(year); // create new object for the year if the year doesn't exist\n\n    if (!this.checkIfInArray(year, this.state.entire_data)) {\n      let newObj = new Object();\n      newObj[year] = [];\n      this.state.entire_data.push(newObj);\n    }\n\n    yearIndex = this.getIndexFromYear(year); // if attempting to create an exisiting month/year combination, return \n\n    if (this.checkIfInArray(month, this.state.entire_data[yearIndex][year])) {\n      console.log(\"repeated\");\n      return;\n    } // create new object for the month \n    else {\n        let newObj = new Object();\n        newObj[month] = new Object();\n        this.state.entire_data[yearIndex][year].push(newObj);\n      }\n\n    const monthIndex = this.getIndexFromMonth(month, this.state.entire_data[yearIndex][year]);\n    this.state.entire_data[yearIndex][year][monthIndex][month][\"Transactions\"] = [];\n    this.state.entire_data[yearIndex][year][monthIndex][month][\"Projected Spendings\"] = projectedSpendings; // sorting data again so it's in order \n\n    this.sortEntireData();\n    this.setState({\n      entire_data: this.state.entire_data\n    }); // resetting form and closing menu \n\n    Object.keys(this.state.newSpendings).map(heading => {\n      this.state.newSpendings[heading] = \"\";\n    });\n    this.state.menuPosition = null;\n    this.setState({\n      newSpendings: this.state.newSpendings,\n      menuPosition: this.state.menuPosition\n    });\n  } // sorting the entire dataset for transactions of all months and years \n\n\n  sortEntireData() {\n    this.state.entire_data.map((yearObj, index) => {\n      const year = Object.keys(yearObj)[0];\n      this.state.entire_data[index][year].sort(this.sortDataByKey);\n    });\n    this.state.entire_data.sort(this.sortDataByKey);\n  }\n\n  sortDataByKey(a, b) {\n    // keys can be either month or year, want the latest to be on top \n    const keyA = parseInt(Object.keys(a)[0]);\n    const keyB = parseInt(Object.keys(b)[0]);\n    if (keyA > keyB) return -1;else return 1;\n  } // when clicking the months on the drawer, need to update the transactions_data in state for the table \n\n\n  monthsOnClickHandler(e, yearIndex, monthIndex, year, month) {\n    this.state.transactions_data = this.state.entire_data[yearIndex][year][monthIndex][this.numbersToMonth[month]][\"Transactions\"];\n    this.setState({\n      transactions_data: this.state.transactions_data\n    });\n    this.setState({\n      projectedSpendings: this.state.entire_data[yearIndex][year][monthIndex][this.numbersToMonth[month]][\"Projected Spendings\"]\n    });\n    this.sumAccountBalance();\n    this.sumCategoriesAmount();\n  } // renders the months for a specific year in the drawer\n\n\n  renderMonths(yearObj, index) {\n    let months = [];\n    Object.keys(yearObj).map(yearArr => {\n      this.state.entire_data[index][yearArr].map(monthObj => {\n        Object.keys(monthObj).map(month => {\n          months.push(this.numbersToMonth[month]);\n        });\n      });\n    });\n    return months;\n  } // get the year from the year index \n\n\n  getYearFromIndex(yearIndex) {\n    // there will always be only one key, which is the year\n    const objKeys = Object.keys(this.state.entire_data[yearIndex]);\n    return objKeys[0];\n  } // get the year index from the year \n\n\n  getIndexFromYear(year) {\n    let index = undefined;\n    this.state.entire_data.map((yearObj, i) => {\n      const objKeys = Object.keys(yearObj);\n      if (objKeys[0] == year) index = i;\n    });\n    return index;\n  } // get the month from the month index \n\n\n  getMonthFromIndex(monthIndex, yearIndex, year) {\n    // there will always be only one key, which is the month\n    const objKeys = Object.keys(this.state.entire_data[yearIndex][year][monthIndex]);\n    return objKeys[0];\n  } // get the month index from the month\n\n\n  getIndexFromMonth(month, arr) {\n    let index = undefined;\n    arr.map((yearObj, i) => {\n      const objKeys = Object.keys(yearObj);\n      if (objKeys[0] == month) index = i;\n    });\n    return index;\n  } // check if a key exists in any objects in an array of objects \n\n\n  checkIfInArray(key, arr) {\n    let exists = false;\n    arr.map(obj => {\n      const keys = Object.keys(obj);\n      if (keys.includes(key)) exists = true;\n    });\n    return exists;\n  }\n\n  render() {\n    const {\n      loggedIn,\n      classes\n    } = this.props;\n    return loggedIn ? /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"DrawerDiv\",\n          children: /*#__PURE__*/_jsxDEV(Drawer, {\n            classes: {\n              paper: classes.drawer_paper,\n              paperAnchorDocked: classes.drawer_paper\n            },\n            variant: \"permanent\",\n            children: [/*#__PURE__*/_jsxDEV(Menu, {\n              id: \"long-menu\",\n              anchorEl: this.state.menuPosition,\n              open: Boolean(this.state.menuPosition),\n              onClose: () => this.hideAddNewMonth(),\n              classes: {\n                list: classes.menu_list\n              },\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                classes: {\n                  root: classes.formControl_root\n                },\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"simple-select-label\",\n                  children: \"Month\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  id: \"simple-select\",\n                  defaultValue: this.state.newSpendings.month,\n                  onChange: e => this.selectFieldOnChangeHandler(e),\n                  children: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"].map(month => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: month,\n                    children: month\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                onKeyDown: e => e.stopPropagation(),\n                id: \"standard-basic\",\n                label: \"Year\",\n                classes: {\n                  root: classes.menu_item\n                },\n                value: this.state.newSpendings.year,\n                onChange: e => this.updateSpendingsYear(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                onKeyDown: e => e.stopPropagation(),\n                id: \"standard-basic\",\n                label: \"Projected Spendings\",\n                classes: {\n                  root: classes.menu_item\n                },\n                value: this.state.newSpendings.projectedSpendings,\n                onChange: e => this.updateSpendingsProjected(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"primary\",\n                classes: {\n                  root: classes.menu_item\n                },\n                size: \"small\",\n                onClick: () => this.createNewSpendings(),\n                children: \"Add New Spendings Page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"add\",\n              onClick: e => this.displayAddNewMonth(e),\n              children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: this.state.entire_data.map((yearObj, yearIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textSecondary\",\n                  display: \"block\",\n                  variant: \"caption\",\n                  align: \"center\",\n                  children: Object.keys(yearObj).map(year => /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: year\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 59\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  children: this.renderMonths(yearObj, yearIndex).map((month, monthIndex) => /*#__PURE__*/_jsxDEV(ListItem, {\n                    classes: {\n                      button: classes.listItem_button\n                    },\n                    button: true,\n                    onClick: e => this.monthsOnClickHandler(e, yearIndex, monthIndex, this.getYearFromIndex(yearIndex), month),\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: month\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 543,\n                      columnNumber: 29\n                    }, this)\n                  }, month, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 542,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Chart\",\n            children: [/*#__PURE__*/_jsxDEV(PieChart, {\n              listToDisplay: this.state.sumForCategories,\n              pieChartSize: 600,\n              pieChartRadius: 150\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"AccountBalance\",\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                children: [\"Total Amount: $\", this.state.accountBalance, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 21\n                }, this), \"Projected Spendings: $\", this.state.projectedSpendings]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Table\",\n            children: [/*#__PURE__*/_jsxDEV(TableComp // use the TableContainer class to style the table itself \n            , {\n              classes: {\n                TableContainer: 'TableContainer'\n              },\n              headings: this.state.transactions_headings,\n              data: this.state.transactions_data,\n              options: this.state.transactions_options,\n              categories: this.state.transactions_categories,\n              addRow: this.addTransaction,\n              editRow: this.editTransaction,\n              removeRow: this.deleteTransaction,\n              addCategory: this.addCategory,\n              removeCategory: this.deleteCategory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"SortButtons\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 3,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 4,\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      className: \"SortButton\",\n                      variant: this.state.sortBy == \"Date\" ? \"contained\" : \"outlined\",\n                      color: \"primary\",\n                      onClick: () => this.changeSort(\"Date\"),\n                      children: [\"Sort By Date\", this.state.sortDes[\"Date\"] ? /*#__PURE__*/_jsxDEV(ArrowDownwardIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 606,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(ArrowUpwardIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 606,\n                        columnNumber: 81\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 4,\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      className: \"SortButton\",\n                      variant: this.state.sortBy == \"Amount\" ? \"contained\" : \"outlined\",\n                      color: \"primary\",\n                      onClick: () => this.changeSort(\"Amount\"),\n                      children: [\"Sort By Amount\", this.state.sortDes[\"Amount\"] ? /*#__PURE__*/_jsxDEV(ArrowDownwardIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 619,\n                        columnNumber: 59\n                      }, this) : /*#__PURE__*/_jsxDEV(ArrowUpwardIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 619,\n                        columnNumber: 83\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 4,\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      className: \"SortButton\",\n                      variant: this.state.sortBy == \"Category\" ? \"contained\" : \"outlined\",\n                      color: \"primary\",\n                      onClick: () => this.changeSort(\"Category\"),\n                      children: [\"Sort By Category\", this.state.sortDes[\"Category\"] ? /*#__PURE__*/_jsxDEV(ArrowDownwardIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 632,\n                        columnNumber: 61\n                      }, this) : /*#__PURE__*/_jsxDEV(ArrowUpwardIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 632,\n                        columnNumber: 85\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default withStyles(useStyles)(Spendings);","map":{"version":3,"sources":["/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Spendings/index.js"],"names":["React","Redirect","withStyles","createMuiTheme","ThemeProvider","deepPurple","Button","ArrowUpwardIcon","ArrowDownwardIcon","Grid","Paper","IconButton","Drawer","List","ListItem","ListItemText","Divider","AddIcon","Menu","MenuItem","Select","TextField","InputLabel","FormControl","Typography","data","TableComp","PieChart","useStyles","drawer_paper","position","height","menu_list","width","marginTop","marginLeft","marginRight","menu_item","formControl_root","outline","minWidth","listItem_buttonSelected","backgroundColor","listItem_button","theme","palette","primary","main","secondary","typography","fontFamily","join","Spendings","Component","constructor","props","numbersToMonth","sumAccountBalance","state","accountBalance","transactions_data","reduce","total","current","sum","parseFloat","toFixed","setState","sumCategoriesAmount","sumForCategories","map","transaction","category","index","findIndex","x","Name","push","length","sortObj","a","b","sortBy","sortDes","sortTransactions","sort","addTransaction","newTransaction","unshift","editTransaction","oldTransaction","t","deleteTransaction","keepTransactions","filter","addCategory","newCategory","transactions_categories","includes","deleteCategory","keepCategories","c","openDrawer","hideAddNewMonth","menuPosition","displayAddNewMonth","e","currentTarget","selectFieldOnChangeHandler","newSpendings","month","target","value","updateSpendingsYear","isNaN","year","updateSpendingsProjected","projectedSpendings","transactions_headings","transactions_options","entire_data","currentlySelectedMonth","sortEntireData","getYearFromIndex","getMonthFromIndex","componentDidUpdate","undefined","prevState","changeSort","createNewSpendings","substr","yearIndex","getIndexFromYear","checkIfInArray","newObj","Object","console","log","monthIndex","getIndexFromMonth","keys","heading","yearObj","sortDataByKey","keyA","parseInt","keyB","monthsOnClickHandler","renderMonths","months","yearArr","monthObj","objKeys","i","arr","key","exists","obj","render","loggedIn","classes","paper","paperAnchorDocked","Boolean","list","root","stopPropagation","button","TableContainer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router';\nimport { withStyles } from '@material-ui/core'\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { deepPurple } from '@material-ui/core/colors';\n\n// imports for sorting buttons \nimport Button from '@material-ui/core/Button';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\n// imports for drawer\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from \"@material-ui/core/Divider\";\nimport AddIcon from '@material-ui/icons/Add';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\n\nimport './spendings.css'\nimport { data } from './data'\n\nimport TableComp from '../Table'\nimport PieChart from '../Investments/PieChart'\n\nconst useStyles = () => ({\n  drawer_paper: {\n    position: \"relative\",\n    height: \"100%\"\n  },\n  menu_list: {\n    width: \"15vw\",\n    marginTop: \"5%\",\n    marginLeft: \"1vw\",\n    marginRight: \"1vw\"\n  },\n  menu_item: {\n    width: \"15vw\",\n    marginTop: \"5%\",\n  },\n  formControl_root: {\n    outline: \"none\",\n    minWidth: \"15vw\"\n  },\n  listItem_buttonSelected: {\n    backgroundColor: deepPurple[100]\n  },\n  listItem_button: {\n    backgroundColor: \"\"\n  }\n})\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: deepPurple[800],\n    },\n    secondary: {\n      main: deepPurple[100],\n    }\n  },\n  typography: {\n    fontFamily: [\n      'Poppins',\n      'sans-serif',\n    ].join(','),\n  },\n});\n\nclass Spendings extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // the headings to appear in the header bar \n      transactions_headings: [\"Date\", \"Amount\", \"Description\", \"Category\"],\n      // the options for each transaction for the table to know which kind of cell to display\n      transactions_options: [\"Date\", \"Dollar\", \"Any\", \"Select\"],\n      // a list of the categories that the transaction falls under \n      transactions_categories: [\"Food\", \"Personal\", \"Transportation\", \"Home\"],\n      // the data to appear in each rows of the table, the transactions for a specific year and month\n      transactions_data: [],\n      // the entire data for all years and all months\n      entire_data: data,\n      // the net balance on the account \n      accountBalance: 0,\n      // current sorting by string, default is sort by date\n      sortBy: \"Date\",\n      // sorting in an ascending/descending order\n      sortDes: {\n        \"Date\": false,\n        \"Amount\": false,\n        \"Category\": false\n      },\n      // true for displaying the drawer (sidebar for months), false to hide\n      openDrawer: false,\n      // the array used for displaying the pie chart, will contain array of objects, key is the category, value is the total spending of that category\n      sumForCategories: [],\n      // the position for the menu used to create a new spendings page\n      menuPosition: null,\n      // the month selected for the menu\n      newSpendings: { month: \"\", year: \"\", projectedSpendings: \"\" },\n      // the projected balance on the selected year and month \n      projectedSpendings: 0,\n      currentlySelectedMonth: {}\n    }\n\n    // initialize transactions_data\n    this.sortEntireData()\n    const year = this.getYearFromIndex(\"0\")\n    const month = this.getMonthFromIndex(\"0\", \"0\", year)\n    this.state.transactions_data = this.state.entire_data[\"0\"][year][\"0\"][month][\"Transactions\"]\n    this.setState({ transactions_data: this.state.transactions_data })\n    this.state.projectedSpendings = this.state.entire_data[\"0\"][year][\"0\"][month][\"Projected Spendings\"]\n    this.setState({ projectedSpendings: this.state.projectedSpendings })\n\n    this.sumCategoriesAmount()\n    this.sumAccountBalance()\n\n  }\n\n  // conversion from numbers representation to letter representation of months \n  numbersToMonth = {\n    \"1\": \"Jan\", \"2\": \"Feb\", \"3\": \"Mar\", \"4\": \"Apr\", \"5\": \"May\", \"6\": \"Jun\",\n    \"7\": \"Jul\", \"8\": \"Aug\", \"9\": \"Sep\", \"10\": \"Oct\", \"11\": \"Nov\", \"12\": \"Dec\",\n    \"Jan\": \"1\", \"Feb\": \"2\", \"Mar\": \"3\", \"Apr\": \"4\", \"May\": \"5\", \"Jun\": \"6\",\n    \"Jul\": \"7\", \"Aug\": \"8\", \"Sep\": \"9\", \"Oct\": \"10\", \"Nov\": \"11\", \"Dec\": \"12\"\n  }\n\n  componentDidUpdate(undefined, prevState) {\n    // only update the account balance if any transaction has been modified\n    if (prevState.transactions_data != this.state.transactions_data) {\n      this.sumAccountBalance()\n      this.sumCategoriesAmount()\n    }\n  }\n\n  sumAccountBalance = () => {\n    this.state.accountBalance = this.state.transactions_data.reduce((total, current) => {\n      let sum = parseFloat(total) + parseFloat(current[\"Amount\"])\n      sum = sum.toFixed(2)\n      return sum\n    }, 0)\n    this.setState({ accountBalance: this.state.accountBalance })\n  }\n\n  sumCategoriesAmount = () => {\n\n    this.state.sumForCategories = []\n\n    this.state.transactions_data.map(transaction => {\n      const category = transaction[\"Category\"]\n      let index = this.state.sumForCategories.findIndex(x => x.Name == category)\n      if (index == -1) {\n        this.state.sumForCategories.push({ \"Name\": category, \"Book Cost\": 0 })\n        index = this.state.sumForCategories.length - 1\n      }\n      this.state.sumForCategories[index][\"Book Cost\"] += parseFloat(transaction[\"Amount\"])\n    })\n\n    this.setState({ sumForCategories: this.state.sumForCategories })\n\n  }\n\n  sortObj = (a, b) => {\n\n    switch (this.state.sortBy) {\n\n      case \"Date\":\n        if (!this.state.sortDes[\"Date\"]) {\n          if (a[\"Date\"] < b[\"Date\"]) return -1\n          else return 1\n        }\n        else {\n          if (a[\"Date\"] > b[\"Date\"]) return -1\n          else return 1\n        }\n\n      case \"Amount\":\n        if (!this.state.sortDes[\"Amount\"]) {\n          if (parseFloat(a[\"Amount\"]) < parseFloat(b[\"Amount\"])) return -1\n          else return 1\n        }\n        else {\n          if (parseFloat(a[\"Amount\"]) > parseFloat(b[\"Amount\"])) return -1\n          else return 1\n        }\n\n      case \"Category\":\n        if (!this.state.sortDes[\"Category\"]) {\n          if (a[\"Category\"] < b[\"Category\"]) return -1\n          else return 1\n        }\n        else {\n          if (a[\"Category\"] > b[\"Category\"]) return -1\n          else return 1\n        }\n\n      case \"Default\":\n        return\n\n    }\n\n  }\n\n  // sorting the transactions based on the currently selected element \n  sortTransactions = () => {\n    this.state.transactions_data.sort(this.sortObj)\n    this.setState({ transactions_data: this.state.transactions_data })\n  }\n\n  // add newTransaction to the beginning of the transactions_data array \n  addTransaction = (newTransaction) => {\n    this.state.transactions_data.unshift(newTransaction)\n    this.setState({ transactions_data: this.state.transactions_data })\n    this.sumAccountBalance()\n    this.sumCategoriesAmount()\n  }\n\n  // finds the index of the oldTransaction data and replace it with the newTransaction data\n  editTransaction = (oldTransaction, newTransaction) => {\n    const index = this.state.transactions_data.findIndex(t => t === oldTransaction)\n    this.state.transactions_data[index] = newTransaction\n    this.setState({ transactions_data: this.state.transactions_data })\n    this.sumAccountBalance()\n    this.sumCategoriesAmount()\n  }\n\n  // deletes transaction from transactions_data array \n  deleteTransaction = (transaction) => {\n    const keepTransactions = this.state.transactions_data.filter(t => t !== transaction)\n    this.setState({ transactions_data: keepTransactions })\n  }\n\n  // adds a user defined category \n  addCategory = (newCategory) => {\n    if (!this.state.transactions_categories.includes(newCategory))\n      this.state.transactions_categories.push(newCategory)\n    this.setState({ transactions_categories: this.state.transactions_categories })\n  }\n\n  // deletes a user defined category (the default cannot be deleted)\n  deleteCategory = (category) => {\n    const keepCategories = this.state.transactions_categories.filter(c => c !== category)\n    this.setState({ transactions_categories: keepCategories })\n  }\n\n  changeSort(sortBy) {\n    this.state.sortBy = sortBy\n    this.setState({ sortBy: this.state.sortBy })\n    this.state.sortDes[sortBy] = !this.state.sortDes[sortBy]\n    this.setState({ sortDes: this.state.sortDes })\n    this.sortTransactions()\n  }\n\n  c = () => {\n    this.state.openDrawer = !this.state.openDrawer\n    this.setState({ openDrawer: this.state.openDrawer })\n  }\n\n  hideAddNewMonth = () => {\n    this.setState({ menuPosition: null })\n  }\n\n  displayAddNewMonth = (e) => {\n    this.setState({ menuPosition: e.currentTarget })\n  }\n\n  // to update the months on the select for the menu\n  selectFieldOnChangeHandler = (e) => {\n    this.state.newSpendings.month = e.target.value\n    this.setState({ newSpendings: this.state.newSpendings })\n  }\n\n  updateSpendingsYear = (e) => {\n    if (isNaN(e.target.value)) return\n    this.state.newSpendings.year = e.target.value\n    this.setState({ newSpendings: this.state.newSpendings })\n  }\n\n  updateSpendingsProjected = (e) => {\n    if (isNaN(e.target.value)) return\n    this.state.newSpendings.projectedSpendings = e.target.value\n    this.setState({ newSpendings: this.state.newSpendings })\n  }\n\n  createNewSpendings() {\n\n    if (this.state.newSpendings.year == \"\" || this.state.newSpendings.month == \"\" || this.state.newSpendings.projectedSpendings == \"\") return\n\n    const year = this.state.newSpendings.year\n    const month = this.numbersToMonth[this.state.newSpendings.month.substr(0, 3)]\n    const projectedSpendings = this.state.newSpendings.projectedSpendings\n    let yearIndex = this.getIndexFromYear(year)\n\n    // create new object for the year if the year doesn't exist\n    if (!this.checkIfInArray(year, this.state.entire_data)) {\n      let newObj = new Object()\n      newObj[year] = []\n      this.state.entire_data.push(newObj)\n    }\n\n    yearIndex = this.getIndexFromYear(year)\n\n    // if attempting to create an exisiting month/year combination, return \n    if (this.checkIfInArray(month, this.state.entire_data[yearIndex][year])) {\n      console.log(\"repeated\")\n      return\n    }\n\n    // create new object for the month \n    else {\n      let newObj = new Object()\n      newObj[month] = new Object()\n      this.state.entire_data[yearIndex][year].push(newObj)\n    }\n\n    const monthIndex = this.getIndexFromMonth(month, this.state.entire_data[yearIndex][year])\n\n    this.state.entire_data[yearIndex][year][monthIndex][month][\"Transactions\"] = []\n    this.state.entire_data[yearIndex][year][monthIndex][month][\"Projected Spendings\"] = projectedSpendings\n\n    // sorting data again so it's in order \n    this.sortEntireData()\n    this.setState({ entire_data: this.state.entire_data })\n\n    // resetting form and closing menu \n    Object.keys(this.state.newSpendings).map(heading => {\n      this.state.newSpendings[heading] = \"\"\n    })\n    this.state.menuPosition = null\n    this.setState({ newSpendings: this.state.newSpendings, menuPosition: this.state.menuPosition })\n\n  }\n\n  // sorting the entire dataset for transactions of all months and years \n  sortEntireData() {\n    this.state.entire_data.map((yearObj, index) => {\n      const year = Object.keys(yearObj)[0]\n      this.state.entire_data[index][year].sort(this.sortDataByKey)\n    })\n    this.state.entire_data.sort(this.sortDataByKey)\n  }\n\n  sortDataByKey(a, b) {\n    // keys can be either month or year, want the latest to be on top \n    const keyA = parseInt(Object.keys(a)[0])\n    const keyB = parseInt(Object.keys(b)[0])\n    if (keyA > keyB) return -1\n    else return 1\n  }\n\n  // when clicking the months on the drawer, need to update the transactions_data in state for the table \n  monthsOnClickHandler(e, yearIndex, monthIndex, year, month) {\n    this.state.transactions_data = this.state.entire_data[yearIndex][year][monthIndex][this.numbersToMonth[month]][\"Transactions\"]\n    this.setState({ transactions_data: this.state.transactions_data })\n    this.setState({ projectedSpendings: this.state.entire_data[yearIndex][year][monthIndex][this.numbersToMonth[month]][\"Projected Spendings\"] })\n    this.sumAccountBalance()\n    this.sumCategoriesAmount()\n  }\n\n  // renders the months for a specific year in the drawer\n  renderMonths(yearObj, index) {\n    let months = []\n    Object.keys(yearObj).map(yearArr => {\n      this.state.entire_data[index][yearArr].map(monthObj => {\n        Object.keys(monthObj).map(month => {\n          months.push(this.numbersToMonth[month])\n        })\n      })\n    })\n    return months\n  }\n\n  // get the year from the year index \n  getYearFromIndex(yearIndex) {\n    // there will always be only one key, which is the year\n    const objKeys = Object.keys(this.state.entire_data[yearIndex])\n    return objKeys[0]\n  }\n\n  // get the year index from the year \n  getIndexFromYear(year) {\n    let index = undefined\n    this.state.entire_data.map((yearObj, i) => {\n      const objKeys = Object.keys(yearObj)\n      if (objKeys[0] == year) index = i\n    })\n    return index\n  }\n\n  // get the month from the month index \n  getMonthFromIndex(monthIndex, yearIndex, year) {\n    // there will always be only one key, which is the month\n    const objKeys = Object.keys(this.state.entire_data[yearIndex][year][monthIndex])\n    return objKeys[0]\n  }\n\n  // get the month index from the month\n  getIndexFromMonth(month, arr) {\n    let index = undefined\n    arr.map((yearObj, i) => {\n      const objKeys = Object.keys(yearObj)\n      if (objKeys[0] == month) index = i\n    })\n    return index\n  }\n\n  // check if a key exists in any objects in an array of objects \n  checkIfInArray(key, arr) {\n    let exists = false\n    arr.map(obj => {\n      const keys = Object.keys(obj)\n      if (keys.includes(key)) exists = true\n    })\n    return exists\n  }\n\n  render() {\n\n    const { loggedIn, classes } = this.props\n\n    return (\n\n      loggedIn ?\n\n        <ThemeProvider theme={theme}>\n\n          <div>\n\n            <div className=\"DrawerDiv\">\n\n              {/* <IconButton className=\"OpenDrawerButton\"\n                // color=\"inherit\"\n                aria-label=\"open drawer\"\n                onClick={() => this.toggleDrawer()}\n              // edge=\"start\"\n              // className={clsx(classes.menuButton, {\n              //   [classes.hide]: open,\n              // })}\n              >\n                <MenuIcon />\n              </IconButton> */}\n\n              <Drawer\n                classes={{ paper: classes.drawer_paper, paperAnchorDocked: classes.drawer_paper }}\n                variant=\"permanent\"\n              >\n\n                <Menu\n                  id=\"long-menu\"\n                  anchorEl={this.state.menuPosition}\n                  open={Boolean(this.state.menuPosition)}\n                  onClose={() => this.hideAddNewMonth()}\n                  classes={{ list: classes.menu_list }}\n                >\n\n                  <FormControl\n                    classes={{ root: classes.formControl_root }}\n                  >\n\n                    <InputLabel id=\"simple-select-label\">Month</InputLabel>\n                    <Select\n                      id=\"simple-select\"\n                      defaultValue={this.state.newSpendings.month}\n                      onChange={(e) => this.selectFieldOnChangeHandler(e)}\n                    >\n\n                      {[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"].map(month =>\n                        <MenuItem\n                          value={month}>\n                          {month}\n                        </MenuItem>\n                      )}\n\n                    </Select>\n\n                  </FormControl>\n\n                  <TextField onKeyDown={e => e.stopPropagation()}\n                    id=\"standard-basic\"\n                    label=\"Year\"\n                    classes={{ root: classes.menu_item }}\n                    value={this.state.newSpendings.year}\n                    onChange={(e) => this.updateSpendingsYear(e)}\n                  />\n\n                  <TextField onKeyDown={e => e.stopPropagation()}\n                    id=\"standard-basic\"\n                    label=\"Projected Spendings\"\n                    classes={{ root: classes.menu_item }}\n                    value={this.state.newSpendings.projectedSpendings}\n                    onChange={(e) => this.updateSpendingsProjected(e)}\n                  />\n\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    classes={{ root: classes.menu_item }}\n                    size=\"small\"\n                    onClick={() => this.createNewSpendings()}\n                  >\n                    Add New Spendings Page\n                  </Button>\n\n                </Menu>\n\n                <IconButton\n                  aria-label=\"add\"\n                  onClick={(e) => this.displayAddNewMonth(e)}>\n                  <AddIcon />\n                </IconButton>\n                <Divider />\n\n                <div>\n                  {this.state.entire_data.map((yearObj, yearIndex) => (\n                    <div>\n\n                      <Typography\n                        color=\"textSecondary\"\n                        display=\"block\"\n                        variant=\"caption\"\n                        align=\"center\"\n                      >\n                        {Object.keys(yearObj).map(year => <p>{year}</p>)}\n                      </Typography>\n\n                      <List>\n                        {this.renderMonths(yearObj, yearIndex).map((month, monthIndex) => (\n                          <ListItem classes={{ button: classes.listItem_button }} button key={month} onClick={(e) => this.monthsOnClickHandler(e, yearIndex, monthIndex, this.getYearFromIndex(yearIndex), month)}>\n                            <ListItemText primary={month} />\n                          </ListItem>\n                        ))}\n                      </List>\n\n                    </div>\n                  ))}\n                </div>\n\n              </Drawer>\n\n            </div>\n\n            <div className=\"Content\">\n\n              <div className=\"Chart\">\n\n                <PieChart\n                  listToDisplay={this.state.sumForCategories}\n                  pieChartSize={600}\n                  pieChartRadius={150}\n                >\n\n                </PieChart>\n\n                <div className=\"AccountBalance\">\n                  <Typography variant=\"h5\">\n                    Total Amount: ${this.state.accountBalance}\n                    <br></br>\n                    Projected Spendings: ${this.state.projectedSpendings}\n                  </Typography>\n                </div>\n\n              </div>\n\n              <div className=\"Table\">\n\n                <TableComp\n                  // use the TableContainer class to style the table itself \n                  classes={{ TableContainer: 'TableContainer' }}\n                  headings={this.state.transactions_headings}\n                  data={this.state.transactions_data}\n                  options={this.state.transactions_options}\n                  categories={this.state.transactions_categories}\n                  addRow={this.addTransaction}\n                  editRow={this.editTransaction}\n                  removeRow={this.deleteTransaction}\n                  addCategory={this.addCategory}\n                  removeCategory={this.deleteCategory}\n                />\n\n                <div className=\"SortButtons\">\n\n                  <Grid container spacing={3}>\n\n                    <Grid item xs={4}>\n                      <Paper>\n                        <Button\n                          className=\"SortButton\"\n                          variant={this.state.sortBy == \"Date\" ? \"contained\" : \"outlined\"}\n                          color=\"primary\"\n                          onClick={() => this.changeSort(\"Date\")}>\n                          Sort By Date\n                          {this.state.sortDes[\"Date\"] ? <ArrowDownwardIcon /> : <ArrowUpwardIcon />}\n                        </Button>\n                      </Paper>\n                    </Grid>\n\n                    <Grid item xs={4}>\n                      <Paper>\n                        <Button\n                          className=\"SortButton\"\n                          variant={this.state.sortBy == \"Amount\" ? \"contained\" : \"outlined\"}\n                          color=\"primary\"\n                          onClick={() => this.changeSort(\"Amount\")}>\n                          Sort By Amount\n                          {this.state.sortDes[\"Amount\"] ? <ArrowDownwardIcon /> : <ArrowUpwardIcon />}\n                        </ Button>\n                      </Paper>\n                    </Grid>\n\n                    <Grid item xs={4}>\n                      <Paper>\n                        <Button\n                          className=\"SortButton\"\n                          variant={this.state.sortBy == \"Category\" ? \"contained\" : \"outlined\"}\n                          color=\"primary\"\n                          onClick={() => this.changeSort(\"Category\")}>\n                          Sort By Category\n                          {this.state.sortDes[\"Category\"] ? <ArrowDownwardIcon /> : <ArrowUpwardIcon />}\n                        </Button>\n                      </Paper>\n                    </Grid>\n\n                  </Grid>\n\n                </div>\n\n              </div>\n\n            </div>\n\n          </div >\n\n        </ThemeProvider>\n\n        : <Redirect to=\"/login\" />\n\n    )\n\n  }\n\n}\n\nexport default withStyles(useStyles)(Spendings);"]},"metadata":{},"sourceType":"module"}