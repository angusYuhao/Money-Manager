{"ast":null,"code":"var _jsxFileName = \"/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/canvasExample2.js\";\n//Tutorials followed:\n//https://stackoverflow.com/questions/33924150/how-to-access-canvas-context-in-react\n//https://stackoverflow.com/questions/27736288/how-to-fill-the-whole-canvas-with-specific-color\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pieChartRef = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    const {\n      stockList\n    } = this.props;\n    this.context = this.pieChartRef.current.getContext('2d'); //     test example:\n    //    this.context.fillStyle = '#000000'\n    //    this.context.beginPath()\n    //    this.context.arc(50, 100, 20, 0, 2*Math.PI)\n    //    this.context.fill()\n\n    let total = stockList.reduce((ttl, stock) => {\n      return ttl + stock.avgCost * stock.quantity;\n    }, 0);\n    console.log(\"total\");\n    console.log(total);\n    let startAngle = 0;\n    let radius = 100;\n    let cx = 350;\n    let cy = 350;\n    stockList.array.forEach(element => {\n      this.context.lineWidth = 1;\n      this.context.strokeStyle = '#333';\n      this.context.beginPath(); //console.log(total, house.troops, house.troops/total);\n      // draw the pie wedges\n\n      let endAngle = element.troops / total * Math.PI * 2 + startAngle;\n      this.context.moveTo(cx, cy);\n      this.context.arc(cx, cy, radius, startAngle, endAngle, false);\n      this.context.lineTo(cx, cy);\n      this.context.fill();\n      this.context.stroke();\n      this.context.closePath(); // add the labels\n\n      this.context.beginPath();\n      this.context.font = '20px Helvetica, Calibri';\n      this.context.textAlign = 'center';\n      this.context.fillStyle = 'rebeccapurple'; // midpoint between the two angles\n      // 1.5 * radius is the length of the Hypotenuse\n\n      let theta = (startAngle + endAngle) / 2;\n      let deltaY = Math.sin(theta) * 1.5 * radius;\n      let deltaX = Math.cos(theta) * 1.5 * radius;\n      /***\n      SOH  - sin(angle) = opposite / hypotenuse\n                          = opposite / 1px\n      CAH  - cos(angle) = adjacent / hypotenuse\n                          = adjacent / 1px\n      TOA\n      \n      ***/\n\n      context.fillText(element.name, deltaX + cx, deltaY + cy);\n      context.closePath();\n      startAngle = endAngle;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: this.pieChartRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default Canvas;","map":{"version":3,"sources":["/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/canvasExample2.js"],"names":["React","useRef","useEffect","Canvas","Component","constructor","props","pieChartRef","createRef","componentDidMount","stockList","context","current","getContext","total","reduce","ttl","stock","avgCost","quantity","console","log","startAngle","radius","cx","cy","array","forEach","element","lineWidth","strokeStyle","beginPath","endAngle","troops","Math","PI","moveTo","arc","lineTo","fill","stroke","closePath","font","textAlign","fillStyle","theta","deltaY","sin","deltaX","cos","fillText","name","render"],"mappings":";AAAA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;;;AAEA,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAqC;AAEjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAChB,UAAMA,KAAN;AAEA,SAAKC,WAAL,gBAAmBP,KAAK,CAACQ,SAAN,EAAnB;AAEF;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAACC,MAAAA;AAAD,QAAa,KAAKJ,KAAxB;AACA,SAAKK,OAAL,GAAe,KAAKJ,WAAL,CAAiBK,OAAjB,CAAyBC,UAAzB,CAAoC,IAApC,CAAf,CAFgB,CAGpB;AACA;AACA;AACA;AACA;;AACI,QAAIC,KAAK,GAAGJ,SAAS,CAACK,MAAV,CAAkB,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAC1C,aAAOD,GAAG,GAAIC,KAAK,CAACC,OAAN,GAAgBD,KAAK,CAACE,QAApC;AACH,KAFW,EAET,CAFS,CAAZ;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACA,QAAIQ,UAAU,GAAG,CAAjB;AACA,QAAIC,MAAM,GAAG,GAAb;AACA,QAAIC,EAAE,GAAG,GAAT;AACA,QAAIC,EAAE,GAAG,GAAT;AAEAf,IAAAA,SAAS,CAACgB,KAAV,CAAgBC,OAAhB,CAAwBC,OAAO,IAAI;AAC/B,WAAKjB,OAAL,CAAakB,SAAb,GAAyB,CAAzB;AACA,WAAKlB,OAAL,CAAamB,WAAb,GAA2B,MAA3B;AACA,WAAKnB,OAAL,CAAaoB,SAAb,GAH+B,CAI/B;AACA;;AACA,UAAIC,QAAQ,GAAKJ,OAAO,CAACK,MAAR,GAAiBnB,KAAlB,GAA2BoB,IAAI,CAACC,EAAhC,GAAqC,CAAtC,GAA2Cb,UAA1D;AACA,WAAKX,OAAL,CAAayB,MAAb,CAAoBZ,EAApB,EAAwBC,EAAxB;AACA,WAAKd,OAAL,CAAa0B,GAAb,CAAiBb,EAAjB,EAAqBC,EAArB,EAAyBF,MAAzB,EAAiCD,UAAjC,EAA6CU,QAA7C,EAAuD,KAAvD;AACA,WAAKrB,OAAL,CAAa2B,MAAb,CAAoBd,EAApB,EAAwBC,EAAxB;AACA,WAAKd,OAAL,CAAa4B,IAAb;AACA,WAAK5B,OAAL,CAAa6B,MAAb;AACA,WAAK7B,OAAL,CAAa8B,SAAb,GAZ+B,CAc/B;;AACA,WAAK9B,OAAL,CAAaoB,SAAb;AACA,WAAKpB,OAAL,CAAa+B,IAAb,GAAoB,yBAApB;AACA,WAAK/B,OAAL,CAAagC,SAAb,GAAyB,QAAzB;AACA,WAAKhC,OAAL,CAAaiC,SAAb,GAAyB,eAAzB,CAlB+B,CAmB/B;AACA;;AACA,UAAIC,KAAK,GAAG,CAACvB,UAAU,GAAGU,QAAd,IAA0B,CAAtC;AACA,UAAIc,MAAM,GAAGZ,IAAI,CAACa,GAAL,CAASF,KAAT,IAAkB,GAAlB,GAAwBtB,MAArC;AACA,UAAIyB,MAAM,GAAGd,IAAI,CAACe,GAAL,CAASJ,KAAT,IAAkB,GAAlB,GAAwBtB,MAArC;AACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;AACWZ,MAAAA,OAAO,CAACuC,QAAR,CAAiBtB,OAAO,CAACuB,IAAzB,EAA+BH,MAAM,GAACxB,EAAtC,EAA0CsB,MAAM,GAACrB,EAAjD;AACAd,MAAAA,OAAO,CAAC8B,SAAR;AAECnB,MAAAA,UAAU,GAAGU,QAAb;AACH,KApCD;AAuCH;;AAEDoB,EAAAA,MAAM,GAAG;AAGL,wBACE;AAAQ,MAAA,GAAG,EAAE,KAAK7C;AAAlB;AAAA;AAAA;AAAA;AAAA,YADF;AAGH;;AA1EgC;;AA6ErC,eAAeJ,MAAf","sourcesContent":["//Tutorials followed:\n//https://stackoverflow.com/questions/33924150/how-to-access-canvas-context-in-react\n//https://stackoverflow.com/questions/27736288/how-to-fill-the-whole-canvas-with-specific-color\n\nimport React, { useRef, useEffect } from 'react'\n\nclass Canvas extends React.Component {\n    \n    constructor(props) {\n       super(props);\n    \n       this.pieChartRef = React.createRef();\n\n    }\n    \n    componentDidMount() {\n        const {stockList}= this.props\n        this.context = this.pieChartRef.current.getContext('2d');\n    //     test example:\n    //    this.context.fillStyle = '#000000'\n    //    this.context.beginPath()\n    //    this.context.arc(50, 100, 20, 0, 2*Math.PI)\n    //    this.context.fill()\n        let total = stockList.reduce( (ttl, stock) => {\n            return ttl + (stock.avgCost * stock.quantity)\n        }, 0);\n        console.log(\"total\")\n        console.log(total)\n        let startAngle = 0; \n        let radius = 100;\n        let cx = 350;\n        let cy = 350;\n\n        stockList.array.forEach(element => {\n            this.context.lineWidth = 1;\n            this.context.strokeStyle = '#333';\n            this.context.beginPath();\n            //console.log(total, house.troops, house.troops/total);\n            // draw the pie wedges\n            let endAngle = ((element.troops / total) * Math.PI * 2) + startAngle;\n            this.context.moveTo(cx, cy);\n            this.context.arc(cx, cy, radius, startAngle, endAngle, false);\n            this.context.lineTo(cx, cy);\n            this.context.fill();\n            this.context.stroke();\n            this.context.closePath();\n            \n            // add the labels\n            this.context.beginPath();\n            this.context.font = '20px Helvetica, Calibri';\n            this.context.textAlign = 'center';\n            this.context.fillStyle = 'rebeccapurple';\n            // midpoint between the two angles\n            // 1.5 * radius is the length of the Hypotenuse\n            let theta = (startAngle + endAngle) / 2;\n            let deltaY = Math.sin(theta) * 1.5 * radius;\n            let deltaX = Math.cos(theta) * 1.5 * radius;\n            /***\n            SOH  - sin(angle) = opposite / hypotenuse\n                                = opposite / 1px\n            CAH  - cos(angle) = adjacent / hypotenuse\n                                = adjacent / 1px\n            TOA\n            \n            ***/\n           context.fillText(element.name, deltaX+cx, deltaY+cy);\n           context.closePath();\n            \n            startAngle = endAngle;\n        });\n\n        \n    }\n    \n    render() {\n        \n\n        return (\n          <canvas ref={this.pieChartRef} />\n       )\n    }\n}\n\nexport default Canvas"]},"metadata":{},"sourceType":"module"}