{"ast":null,"code":"var _jsxFileName = \"/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/index.js\";\nimport React from 'react';\nimport PieChart from './PieChart';\nimport TableComp from '../Table';\nimport './investments.css';\nimport SortButton from './SortButton';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { deepPurple, grey } from '@material-ui/core/colors';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Calculator from './Calculator';\nimport GeneralCard from './GeneralCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useStyles = theme => ({\n  root: {\n    diplay: 'flex'\n  }\n});\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: deepPurple[800]\n    },\n    secondary: {\n      main: deepPurple[100]\n    }\n  },\n  typography: {\n    fontFamily: ['Poppins', 'sans-serif'].join(',')\n  }\n});\n\nclass Investments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      //general stock data\n      stockList_headings: [\"Name\", \"Quantity\", \"Price\", \"Average Cost\", \"Market Value\", \"Book Cost\", \"Gain/Loss\"],\n      stockList_options: [\"Any\", \"Number\", \"Dollar\", \"Dollar\", \"Dollar\", \"Dollar\", \"Dollar\", \"Dollar\"],\n      stockList_categories: [],\n      stocklist_data: [{\n        \"Name\": \"FB\",\n        \"Quantity\": 15,\n        \"Price\": 310.0,\n        \"Average Cost\": 232.5,\n        \"Market Value\": 4560,\n        \"Book Cost\": 3487.5,\n        \"Gain/Loss\": 1072.5\n      }, {\n        \"Name\": \"GOOGL\",\n        \"Quantity\": 3,\n        \"Price\": 1500.40,\n        \"Average Cost\": 1523,\n        \"Market Value\": 4501.2,\n        \"Book Cost\": 4569,\n        \"Gain/Loss\": -67.8\n      }, {\n        \"Name\": \"PDD\",\n        \"Quantity\": 9,\n        \"Price\": 260.03,\n        \"Average Cost\": 250,\n        \"Market Value\": 2340.27,\n        \"Book Cost\": 2250,\n        \"Gain/Loss\": -240\n      }, {\n        \"Name\": \"GME\",\n        \"Quantity\": 11,\n        \"Price\": 280.45,\n        \"Average Cost\": 340,\n        \"Market Value\": 3084.95,\n        \"Book Cost\": 3740,\n        \"Gain/Loss\": -655.05\n      }, {\n        \"Name\": \"MSFT\",\n        \"Quantity\": 6,\n        \"Price\": 330.0,\n        \"Average Cost\": 280,\n        \"Market Value\": 1980,\n        \"Book Cost\": 1680,\n        \"Gain/Loss\": 1473.56\n      }, {\n        \"Name\": \"BABA\",\n        \"Quantity\": 17,\n        \"Price\": 222.98,\n        \"Average Cost\": 136.3,\n        \"Market Value\": 3790.66,\n        \"Book Cost\": 2317.1,\n        \"Gain/Loss\": 1473.56\n      }, {\n        \"Name\": \"V\",\n        \"Quantity\": 20,\n        \"Price\": 233.0,\n        \"Average Cost\": 220,\n        \"Market Value\": 4660,\n        \"Book Cost\": 4400,\n        \"Gain/Loss\": 260\n      }, {\n        \"Name\": \"SHOP\",\n        \"Quantity\": 20,\n        \"Price\": 233.8,\n        \"Average Cost\": 220,\n        \"Market Value\": 4676,\n        \"Book Cost\": 4400,\n        \"Gain/Loss\": 276\n      }],\n      //table values\n      sortBy: \"Market Value\",\n      sortDes: {\n        \"Name\": false,\n        \"Quantity\": false,\n        \"Market Value\": false,\n        \"Gain/Loss\": false\n      },\n      openDrawer: false,\n      //Pie chart values\n      pieChartSize: 700,\n      pieChartRadius: 200,\n      total: 0\n    };\n\n    this.sortObj = (a, b) => {\n      switch (this.state.sortBy) {\n        case \"Name\":\n          if (!this.state.sortDes[\"Name\"]) {\n            if (a[\"Name\"] < b[\"Name\"]) return -1;else return 1;\n          } else {\n            if (a[\"Name\"] > b[\"Name\"]) return -1;else return 1;\n          }\n\n        case \"Quantity\":\n          if (!this.state.sortDes[\"Quantity\"]) {\n            if (parseFloat(a[\"Quantity\"]) < parseFloat(b[\"Quantity\"])) return -1;else return 1;\n          } else {\n            if (parseFloat(a[\"Quantity\"]) > parseFloat(b[\"Quantity\"])) return -1;else return 1;\n          }\n\n        case \"Market Value\":\n          if (!this.state.sortDes[\"Market Value\"]) {\n            if (parseFloat(a[\"Market Value\"]) < parseFloat(b[\"Market Value\"])) return -1;else return 1;\n          } else {\n            if (parseFloat(a[\"Market Value\"]) > parseFloat(b[\"Market Value\"])) return -1;else return 1;\n          }\n\n        case \"Gain/Loss\":\n          if (!this.state.sortDes[\"Gain/Loss\"]) {\n            if (parseFloat(a[\"Gain/Loss\"]) < parseFloat(b[\"Gain/Loss\"])) return -1;else return 1;\n          } else {\n            if (parseFloat(a[\"Gain/Loss\"]) > parseFloat(b[\"Gain/Loss\"])) return -1;else return 1;\n          }\n\n        case \"Default\":\n          return;\n      }\n    };\n\n    this.totalMoneyInvested = () => {\n      this.state.total = this.state.stocklist_data.reduce((ttl, stock) => {\n        //console.log(stock)\n        //return ttl + (stock.bookCost)\n        return ttl + parseFloat(stock[\"Book Cost\"]);\n      }, 0);\n      this.setState({\n        total: this.state.total\n      });\n      console.log(this.state.total);\n    };\n\n    this.sortStocks = () => {\n      this.state.stocklist_data.sort(this.sortObj);\n      this.setState({\n        stocklist_data: this.state.stocklist_data\n      });\n    };\n\n    this.addStock = newStock => {\n      this.state.stocklist_data.unshift(newStock);\n      this.setState({\n        stocklist_data: this.state.stocklist_data\n      });\n      this.totalMoneyInvested();\n    };\n\n    this.editStock = (oldStock, newStock) => {\n      //console.log(\"Edit\")\n      const index = this.state.stocklist_data.findIndex(t => t === oldStock);\n      this.state.stocklist_data[index] = newStock;\n      this.setState({\n        stocklist_data: this.state.stocklist_data\n      });\n      this.totalMoneyInvested();\n    };\n\n    this.deleteStock = transaction => {\n      const keepTransactions = this.state.stocklist_data.filter(t => t !== transaction);\n      this.setState({\n        stocklist_data: keepTransactions\n      });\n      this.totalMoneyInvested();\n    };\n\n    this.changeSort = this.changeSort.bind(this);\n    this.totalMoneyInvested();\n  } //For sorting the stock entries in the table:\n\n\n  //For reensurring the sum is up to date:\n  componentDidUpdate(undefined, prevState) {\n    // only update the account balance if any transaction has been modified\n    if (prevState.stocklist_data != this.state.stocklist_data) {\n      console.log(\"componenet updated\");\n      this.totalMoneyInvested();\n    }\n  }\n\n  changeSort(sortBy) {\n    //console.log(\"Sorting!\")\n    this.state.sortBy = sortBy;\n    this.setState({\n      sortBy: this.state.sortBy\n    });\n    this.state.sortDes[sortBy] = !this.state.sortDes[sortBy];\n    this.setState({\n      sortDes: this.state.sortDes\n    });\n    this.sortStocks();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"InvestmentPage\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PieChartGeneral\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"TitleAndPieChart\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"StockPieChartTitle\",\n              children: \"Stock Portfolio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"PieChart\",\n              children: /*#__PURE__*/_jsxDEV(PieChart, {\n                totalAmountInvested: this.state.total,\n                listToDisplay: this.state.stocklist_data,\n                pieChartSize: this.state.pieChartSize,\n                pieChartRadius: this.state.pieChartRadius\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"GeneralInfo\",\n            children: /*#__PURE__*/_jsxDEV(GeneralCard, {\n              total: this.state.total\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"StockList\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"StockTable\",\n            width: \"100vw\",\n            children: /*#__PURE__*/_jsxDEV(TableComp // use the TableContainer class to style the table itself \n            , {\n              classes: {\n                TableContainer: 'TableContainer'\n              },\n              headings: this.state.stockList_headings,\n              data: this.state.stocklist_data,\n              options: this.state.stockList_options,\n              categories: this.state.stockList_categories,\n              addRow: this.addStock,\n              editRow: this.editStock,\n              removeRow: this.deleteStock\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SortButtons\",\n            children: [/*#__PURE__*/_jsxDEV(SortButton, {\n              categoryName: \"Name\",\n              callBackFunction: this.changeSort,\n              sortDes: this.state.sortDes,\n              sortBy: this.state.sortBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(SortButton, {\n              categoryName: \"Quantity\",\n              callBackFunction: this.changeSort,\n              sortDes: this.state.sortDes,\n              sortBy: this.state.sortBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(SortButton, {\n              categoryName: \"Market Value\",\n              callBackFunction: this.changeSort,\n              sortDes: this.state.sortDes,\n              sortBy: this.state.sortBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(SortButton, {\n              categoryName: \"Gain/Loss\",\n              callBackFunction: this.changeSort,\n              sortDes: this.state.sortDes,\n              sortBy: this.state.sortBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Calculator\",\n          children: /*#__PURE__*/_jsxDEV(Calculator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default withStyles(useStyles)(Investments);","map":{"version":3,"sources":["/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/index.js"],"names":["React","PieChart","TableComp","SortButton","createMuiTheme","ThemeProvider","deepPurple","grey","withStyles","Calculator","GeneralCard","useStyles","theme","root","diplay","palette","primary","main","secondary","typography","fontFamily","join","Investments","Component","constructor","props","state","stockList_headings","stockList_options","stockList_categories","stocklist_data","sortBy","sortDes","openDrawer","pieChartSize","pieChartRadius","total","sortObj","a","b","parseFloat","totalMoneyInvested","reduce","ttl","stock","setState","console","log","sortStocks","sort","addStock","newStock","unshift","editStock","oldStock","index","findIndex","t","deleteStock","transaction","keepTransactions","filter","changeSort","bind","componentDidUpdate","undefined","prevState","render","TableContainer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PieChart from './PieChart'\nimport TableComp from '../Table'\nimport './investments.css'\nimport SortButton from './SortButton';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { deepPurple, grey } from '@material-ui/core/colors';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Calculator from './Calculator'\nimport GeneralCard from './GeneralCard';\n\nconst useStyles = theme => ({\n  root: {\n    diplay: 'flex',\n  }\n});\n\n\nconst theme = createMuiTheme({\n  palette: {\n      primary: {\n          main: deepPurple[800],\n      },\n      secondary: {\n          main: deepPurple[100],\n      }\n  },\n  typography: {\n      fontFamily: [\n          'Poppins',\n          'sans-serif',\n      ].join(','),\n  },\n});\n\nclass Investments extends React.Component {\n\n  state = {\n    //general stock data\n    stockList_headings: [\"Name\", \"Quantity\", \"Price\", \"Average Cost\", \"Market Value\", \"Book Cost\", \"Gain/Loss\"],\n    stockList_options: [\"Any\", \"Number\", \"Dollar\", \"Dollar\", \"Dollar\", \"Dollar\", \"Dollar\", \"Dollar\"],\n    stockList_categories: [],\n    stocklist_data: [{\"Name\": \"FB\", \"Quantity\": 15, \"Price\": 310.0, \"Average Cost\": 232.5,  \"Market Value\": 4560, \"Book Cost\": 3487.5, \"Gain/Loss\":1072.5},\n    {\"Name\": \"GOOGL\", \"Quantity\": 3, \"Price\": 1500.40, \"Average Cost\": 1523,  \"Market Value\": 4501.2, \"Book Cost\": 4569, \"Gain/Loss\":-67.8 },\n    {\"Name\": \"PDD\", \"Quantity\": 9, \"Price\": 260.03, \"Average Cost\": 250,  \"Market Value\": 2340.27, \"Book Cost\": 2250, \"Gain/Loss\":-240},\n    {\"Name\": \"GME\", \"Quantity\": 11, \"Price\": 280.45, \"Average Cost\": 340,  \"Market Value\": 3084.95, \"Book Cost\": 3740, \"Gain/Loss\":-655.05 },\n    {\"Name\": \"MSFT\", \"Quantity\": 6, \"Price\": 330.0, \"Average Cost\": 280,  \"Market Value\": 1980, \"Book Cost\": 1680, \"Gain/Loss\":1473.56},\n    {\"Name\": \"BABA\", \"Quantity\": 17, \"Price\": 222.98, \"Average Cost\": 136.3,  \"Market Value\": 3790.66, \"Book Cost\": 2317.1, \"Gain/Loss\":1473.56 },\n    {\"Name\": \"V\", \"Quantity\": 20, \"Price\": 233.0, \"Average Cost\": 220,  \"Market Value\": 4660, \"Book Cost\": 4400, \"Gain/Loss\":260},\n    {\"Name\": \"SHOP\", \"Quantity\": 20, \"Price\": 233.8, \"Average Cost\": 220,  \"Market Value\": 4676, \"Book Cost\": 4400, \"Gain/Loss\":276}],\n\n    //table values\n    sortBy: \"Market Value\",\n    sortDes: {\n      \"Name\": false,\n      \"Quantity\": false,\n      \"Market Value\": false,\n      \"Gain/Loss\": false,\n    },\n    openDrawer: false,\n\n    //Pie chart values\n    pieChartSize: 700,\n    pieChartRadius: 200,\n    total: 0,\n  }\n\n  constructor(props) {\n    super(props);\n    this.changeSort = this.changeSort.bind(this);\n    this.totalMoneyInvested();\n  }\n\n  //For sorting the stock entries in the table:\n  sortObj = (a, b) => {\n    switch (this.state.sortBy) {\n\n      case \"Name\":\n        if (!this.state.sortDes[\"Name\"]) {\n          if (a[\"Name\"] < b[\"Name\"]) return -1\n          else return 1\n        }\n        else {\n          if (a[\"Name\"] > b[\"Name\"]) return -1\n          else return 1\n        }\n\n      case \"Quantity\":\n        if (!this.state.sortDes[\"Quantity\"]) {\n          if (parseFloat(a[\"Quantity\"]) < parseFloat(b[\"Quantity\"])) return -1\n          else return 1\n        }\n        else {\n          if (parseFloat(a[\"Quantity\"]) > parseFloat(b[\"Quantity\"])) return -1\n          else return 1\n        }\n\n      case \"Market Value\":\n        if (!this.state.sortDes[\"Market Value\"]) {\n          if (parseFloat(a[\"Market Value\"]) < parseFloat(b[\"Market Value\"])) return -1\n          else return 1\n        }\n        else {\n          if (parseFloat(a[\"Market Value\"]) > parseFloat(b[\"Market Value\"])) return -1\n          else return 1\n        }\n      case \"Gain/Loss\":\n        if (!this.state.sortDes[\"Gain/Loss\"]) {\n          if (parseFloat(a[\"Gain/Loss\"]) < parseFloat(b[\"Gain/Loss\"])) return -1\n          else return 1\n        }\n        else {\n          if (parseFloat(a[\"Gain/Loss\"]) > parseFloat(b[\"Gain/Loss\"])) return -1\n          else return 1\n        }\n    \n\n      case \"Default\":\n        return\n\n    }\n\n  }\n\n  //For reensurring the sum is up to date:\n  componentDidUpdate(undefined, prevState) {\n    // only update the account balance if any transaction has been modified\n    if (prevState.stocklist_data != this.state.stocklist_data) {\n      console.log(\"componenet updated\");\n      this.totalMoneyInvested();\n      \n    }\n  }\n\n  totalMoneyInvested = () => {\n\n    this.state.total = this.state.stocklist_data.reduce( (ttl, stock) => {\n      //console.log(stock)\n      //return ttl + (stock.bookCost)\n      return ttl +  parseFloat(stock[\"Book Cost\"]) \n    }, 0);\n    this.setState({total: this.state.total})\n    console.log(this.state.total)\n  }\n\n\n\n\n  // sorting the transactions based on the currently selected element \n  sortStocks = () => {\n    this.state.stocklist_data.sort(this.sortObj)\n    this.setState({ stocklist_data: this.state.stocklist_data })\n  }\n\n  // add newTransaction to the beginning of the transactions_data array \n  addStock = (newStock) => {\n    this.state.stocklist_data.unshift(newStock)\n    this.setState({ stocklist_data: this.state.stocklist_data })\n    this.totalMoneyInvested();\n  }\n\n  // finds the index of the oldTransaction data and replace it with the newTransaction data\n  editStock = (oldStock, newStock) => {\n    //console.log(\"Edit\")\n    const index = this.state.stocklist_data.findIndex(t => t === oldStock)\n    this.state.stocklist_data[index] = newStock\n    this.setState({ stocklist_data: this.state.stocklist_data })\n    this.totalMoneyInvested();\n  }\n\n  // deletes transaction from transactions_data array \n  deleteStock = (transaction) => {\n    const keepTransactions = this.state.stocklist_data.filter(t => t !== transaction)\n    this.setState({ stocklist_data: keepTransactions })\n    this.totalMoneyInvested();\n  }\n\n  changeSort(sortBy) {\n    //console.log(\"Sorting!\")\n    this.state.sortBy = sortBy\n    this.setState({ sortBy: this.state.sortBy })\n    this.state.sortDes[sortBy] = !this.state.sortDes[sortBy]\n    this.setState({ sortDes: this.state.sortDes })\n    this.sortStocks()\n  }\n\n  render() {\n    return (\n\n    <ThemeProvider theme={ theme }>\n    <div className = \"InvestmentPage\">\n\n      <div className = \"PieChartGeneral\">\n          <div className = \"TitleAndPieChart\">\n            <div className = \"StockPieChartTitle\">\n                Stock Portfolio\n            </div>\n            <div className = \"PieChart\">\n              <PieChart totalAmountInvested = {this.state.total} listToDisplay = {this.state.stocklist_data} pieChartSize = {this.state.pieChartSize} pieChartRadius = {this.state.pieChartRadius}/>            \n            </div>\n          </div>\n          <div className = \"GeneralInfo\">\n            <GeneralCard total = {this.state.total}/>\n            \n          </div>\n      </div>\n\n\n      <div className = \"StockList\">\n        <div className=\"StockTable\" width = \"100vw\">\n          <TableComp \n            \n            // use the TableContainer class to style the table itself \n            classes={{ TableContainer: 'TableContainer' }}\n            headings={this.state.stockList_headings}\n            data={this.state.stocklist_data}\n            options={this.state.stockList_options}\n            categories={this.state.stockList_categories}\n            addRow={this.addStock}\n            editRow={this.editStock}\n            removeRow={this.deleteStock}\n          />\n        </div>\n\n        <div className=\"SortButtons\">\n          <SortButton categoryName = \"Name\" callBackFunction = {this.changeSort} \n          sortDes = {this.state.sortDes} sortBy = {this.state.sortBy}/>\n          <SortButton categoryName = \"Quantity\" callBackFunction = {this.changeSort} \n          sortDes = {this.state.sortDes} sortBy = {this.state.sortBy}/>\n          <SortButton categoryName = \"Market Value\" callBackFunction = {this.changeSort} \n          sortDes = {this.state.sortDes} sortBy = {this.state.sortBy}/>\n          <SortButton categoryName = \"Gain/Loss\" callBackFunction = {this.changeSort} \n          sortDes = {this.state.sortDes} sortBy = {this.state.sortBy}/>\n        </div>\n      </div>\n\n      <div className = \"Calculator\">\n      <Calculator/>\n      </div>\n    </div>\n\n    </ThemeProvider>\n    )\n\n  }\n\n}\n\nexport default withStyles(useStyles)(Investments);\n"]},"metadata":{},"sourceType":"module"}