{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nexport function draw(ctx, total, slice, cx, cy, startAngle, radius, canvasWidth, canvasHeight) {\n  //set the styles before beginPath\n  ctx.fillStyle = randomHexColorCode();\n  ctx.lineWidth = 1;\n  ctx.strokeStyle = '#ffffff';\n  ctx.beginPath(); // draw the pie slices\n\n  let endAngle = slice.amount / total * Math.PI * 2 + startAngle;\n  ctx.moveTo(cx, cy);\n  ctx.arc(cx, cy, radius, startAngle, endAngle, false);\n  ctx.lineTo(cx, cy);\n  ctx.fill();\n  ctx.stroke();\n  ctx.closePath(); // add the labels\n\n  ctx.beginPath();\n  ctx.font = '20px Helvetica, Calibri';\n  ctx.textAlign = 'center';\n  ctx.fillStyle = 'rebeccapurple'; // midpoint between the two angles\n  // 1.5 * radius is the length of the Hypotenuse\n\n  let theta = (startAngle + endAngle) / 2;\n  let deltaY = Math.sin(theta) * 1.5 * radius;\n  let deltaX = Math.cos(theta) * 1.5 * radius;\n  ctx.fillText(slice.name, deltaX + cx, deltaY + cy);\n  let percentage = Math.round(+(slice.amount * 100 / total));\n  ctx.fillText(percentage + \"%\", deltaX * 1.3 + cx, deltaY * 1.4 + cy);\n  ctx.closePath();\n  startAngle = endAngle;\n}\nexport function randomHexColorCode() {\n  return \"#\" + Math.random().toString(16).slice(2, 8);\n}\n;\nexport function useCanvas() {\n  _s();\n\n  const canvasRef = useRef(null);\n  const [data] = useState([]);\n  useEffect(() => {\n    const canvasObj = canvasRef.current;\n    const ctx = canvasObj.getContext('2d');\n    canvasObj.width = 500;\n    canvasObj.height = 500;\n    let canvasWidth = 500;\n    let canvasHeight = 500; // clear the canvas area before rendering the coordinates held in state\n\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n    let total = data.reduce((ttl, slice) => {\n      return ttl + slice.amount;\n    }, 0);\n    let cx = canvasObj.width / 2;\n    let cy = canvasObj.height / 2;\n    let startAngle = 0;\n    let radius = 100; // draw all coordinates held in state\n\n    data.forEach(slice => {\n      draw(ctx, total, slice, cx, cy, startAngle, radius, canvasWidth, canvasHeight);\n    });\n  });\n}\n\n_s(useCanvas, \"os7dWQ/Hi4mfS1fwcd7klmPstOQ=\");","map":{"version":3,"sources":["/Users/emilyhuang/Documents/CSC309/groupProject/team06/src/components/Investments/drawChart.js"],"names":["React","useState","useEffect","useRef","draw","ctx","total","slice","cx","cy","startAngle","radius","canvasWidth","canvasHeight","fillStyle","randomHexColorCode","lineWidth","strokeStyle","beginPath","endAngle","amount","Math","PI","moveTo","arc","lineTo","fill","stroke","closePath","font","textAlign","theta","deltaY","sin","deltaX","cos","fillText","name","percentage","round","random","toString","useCanvas","canvasRef","data","canvasObj","current","getContext","width","height","clearRect","reduce","ttl","forEach"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AAEA,OAAO,SAASC,IAAT,CAAcC,GAAd,EAAmBC,KAAnB,EAA0BC,KAA1B,EAAiCC,EAAjC,EAAqCC,EAArC,EAAyCC,UAAzC,EAAqDC,MAArD,EAA6DC,WAA7D,EAA0EC,YAA1E,EAAuF;AAC1F;AACAR,EAAAA,GAAG,CAACS,SAAJ,GAAgBC,kBAAkB,EAAlC;AACAV,EAAAA,GAAG,CAACW,SAAJ,GAAgB,CAAhB;AACAX,EAAAA,GAAG,CAACY,WAAJ,GAAkB,SAAlB;AACAZ,EAAAA,GAAG,CAACa,SAAJ,GAL0F,CAO1F;;AACA,MAAIC,QAAQ,GAAKZ,KAAK,CAACa,MAAN,GAAed,KAAhB,GAAyBe,IAAI,CAACC,EAA9B,GAAmC,CAApC,GAAyCZ,UAAxD;AACAL,EAAAA,GAAG,CAACkB,MAAJ,CAAWf,EAAX,EAAeC,EAAf;AACAJ,EAAAA,GAAG,CAACmB,GAAJ,CAAQhB,EAAR,EAAYC,EAAZ,EAAgBE,MAAhB,EAAwBD,UAAxB,EAAoCS,QAApC,EAA8C,KAA9C;AACAd,EAAAA,GAAG,CAACoB,MAAJ,CAAWjB,EAAX,EAAeC,EAAf;AACAJ,EAAAA,GAAG,CAACqB,IAAJ;AACArB,EAAAA,GAAG,CAACsB,MAAJ;AACAtB,EAAAA,GAAG,CAACuB,SAAJ,GAd0F,CAgB1F;;AACAvB,EAAAA,GAAG,CAACa,SAAJ;AACAb,EAAAA,GAAG,CAACwB,IAAJ,GAAW,yBAAX;AACAxB,EAAAA,GAAG,CAACyB,SAAJ,GAAgB,QAAhB;AACAzB,EAAAA,GAAG,CAACS,SAAJ,GAAgB,eAAhB,CApB0F,CAqB1F;AACA;;AACA,MAAIiB,KAAK,GAAG,CAACrB,UAAU,GAAGS,QAAd,IAA0B,CAAtC;AACA,MAAIa,MAAM,GAAGX,IAAI,CAACY,GAAL,CAASF,KAAT,IAAkB,GAAlB,GAAwBpB,MAArC;AACA,MAAIuB,MAAM,GAAGb,IAAI,CAACc,GAAL,CAASJ,KAAT,IAAkB,GAAlB,GAAwBpB,MAArC;AACAN,EAAAA,GAAG,CAAC+B,QAAJ,CAAa7B,KAAK,CAAC8B,IAAnB,EAAyBH,MAAM,GAAC1B,EAAhC,EAAoCwB,MAAM,GAACvB,EAA3C;AACA,MAAI6B,UAAU,GAAGjB,IAAI,CAACkB,KAAL,CAAW,EAAEhC,KAAK,CAACa,MAAN,GAAa,GAAb,GAAiBd,KAAnB,CAAX,CAAjB;AACAD,EAAAA,GAAG,CAAC+B,QAAJ,CAAaE,UAAU,GAAG,GAA1B,EAAgCJ,MAAM,GAAC,GAAR,GAAa1B,EAA5C,EAAiDwB,MAAM,GAAC,GAAR,GAAavB,EAA7D;AACAJ,EAAAA,GAAG,CAACuB,SAAJ;AACAlB,EAAAA,UAAU,GAAGS,QAAb;AACH;AAGD,OAAO,SAASJ,kBAAT,GAA6B;AAChC,SAAO,MAAMM,IAAI,CAACmB,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BlC,KAA3B,CAAiC,CAAjC,EAAoC,CAApC,CAAb;AACH;AAAA;AAED,OAAO,SAASmC,SAAT,GAAoB;AAAA;;AACvB,QAAMC,SAAS,GAAGxC,MAAM,CAAC,IAAD,CAAxB;AACA,QAAM,CAACyC,IAAD,IAAS3C,QAAQ,CAAC,EAAD,CAAvB;AACAC,EAAAA,SAAS,CAAC,MAAK;AACX,UAAM2C,SAAS,GAAGF,SAAS,CAACG,OAA5B;AACA,UAAMzC,GAAG,GAAGwC,SAAS,CAACE,UAAV,CAAqB,IAArB,CAAZ;AACAF,IAAAA,SAAS,CAACG,KAAV,GAAkB,GAAlB;AACAH,IAAAA,SAAS,CAACI,MAAV,GAAmB,GAAnB;AACA,QAAIrC,WAAW,GAAG,GAAlB;AACA,QAAIC,YAAY,GAAG,GAAnB,CANW,CAOX;;AACAR,IAAAA,GAAG,CAAC6C,SAAJ,CAAe,CAAf,EAAiB,CAAjB,EAAoBtC,WAApB,EAAiCC,YAAjC;AAEA,QAAIP,KAAK,GAAGsC,IAAI,CAACO,MAAL,CAAa,CAACC,GAAD,EAAM7C,KAAN,KAAgB;AACrC,aAAO6C,GAAG,GAAG7C,KAAK,CAACa,MAAnB;AACH,KAFW,EAET,CAFS,CAAZ;AAIA,QAAIZ,EAAE,GAAGqC,SAAS,CAACG,KAAV,GAAgB,CAAzB;AACA,QAAIvC,EAAE,GAAGoC,SAAS,CAACI,MAAV,GAAiB,CAA1B;AACA,QAAIvC,UAAU,GAAG,CAAjB;AACA,QAAIC,MAAM,GAAG,GAAb,CAjBW,CAmBX;;AACAiC,IAAAA,IAAI,CAACS,OAAL,CAAc9C,KAAD,IAAS;AAACH,MAAAA,IAAI,CAACC,GAAD,EAAMC,KAAN,EAAaC,KAAb,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,UAA5B,EAAwCC,MAAxC,EAAgDC,WAAhD,EAA6DC,YAA7D,CAAJ;AAA+E,KAAtG;AACH,GArBQ,CAAT;AAsBH;;GAzBe6B,S","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nexport function draw(ctx, total, slice, cx, cy, startAngle, radius, canvasWidth, canvasHeight){\n    //set the styles before beginPath\n    ctx.fillStyle = randomHexColorCode();\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = '#ffffff';\n    ctx.beginPath();\n    \n    // draw the pie slices\n    let endAngle = ((slice.amount / total) * Math.PI * 2) + startAngle;\n    ctx.moveTo(cx, cy);\n    ctx.arc(cx, cy, radius, startAngle, endAngle, false);\n    ctx.lineTo(cx, cy);\n    ctx.fill();\n    ctx.stroke();\n    ctx.closePath();\n    \n    // add the labels\n    ctx.beginPath();\n    ctx.font = '20px Helvetica, Calibri';\n    ctx.textAlign = 'center';\n    ctx.fillStyle = 'rebeccapurple';\n    // midpoint between the two angles\n    // 1.5 * radius is the length of the Hypotenuse\n    let theta = (startAngle + endAngle) / 2;\n    let deltaY = Math.sin(theta) * 1.5 * radius;\n    let deltaX = Math.cos(theta) * 1.5 * radius;\n    ctx.fillText(slice.name, deltaX+cx, deltaY+cy);\n    let percentage = Math.round(+(slice.amount*100/total));\n    ctx.fillText(percentage + \"%\", (deltaX*1.3)+cx, (deltaY*1.4)+cy);\n    ctx.closePath();\n    startAngle = endAngle;\n}\n\n\nexport function randomHexColorCode(){\n    return \"#\" + Math.random().toString(16).slice(2, 8)\n};\n\nexport function useCanvas(){\n    const canvasRef = useRef(null);\n    const [data] = useState([]);\n    useEffect(() =>{\n        const canvasObj = canvasRef.current;\n        const ctx = canvasObj.getContext('2d');\n        canvasObj.width = 500;\n        canvasObj.height = 500;\n        let canvasWidth = 500;\n        let canvasHeight = 500;\n        // clear the canvas area before rendering the coordinates held in state\n        ctx.clearRect( 0,0, canvasWidth, canvasHeight );\n\n        let total = data.reduce( (ttl, slice) => {\n            return ttl + slice.amount\n        }, 0);\n\n        let cx = canvasObj.width/2;\n        let cy = canvasObj.height/2;\n        let startAngle = 0;\n        let radius = 100;\n\n        // draw all coordinates held in state\n        data.forEach((slice)=>{draw(ctx, total, slice, cx, cy, startAngle, radius, canvasWidth, canvasHeight)});\n    });\n}"]},"metadata":{},"sourceType":"module"}